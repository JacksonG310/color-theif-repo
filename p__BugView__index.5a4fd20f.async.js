(self.webpackChunk=self.webpackChunk||[]).push([[518],{64413:function(le,de,v){"use strict";v.r(de),v.d(de,{default:function(){return Za}});var Ce=v(15009),X=v.n(Ce),je=v(99289),se=v.n(je),f=v(958),pe=[(0,f.F)("a23654bdc84f2b9").d("\u661F\u671F\u65E5"),(0,f.F)("2e4d0b3dd708930").d("\u661F\u671F\u4E00"),(0,f.F)("abf3e3e4c49e13c").d("\u661F\u671F\u4E8C"),(0,f.F)("791f5c5d3817522").d("\u661F\u671F\u4E09"),(0,f.F)("5fcf5174527fcf0").d("\u661F\u671F\u56DB"),(0,f.F)("41128c67d7aee99").d("\u661F\u671F\u4E94"),(0,f.F)("ae81f0697d5a8d8").d("\u661F\u671F\u516D")],Ja=function(l){return l.UNCLOSE_ALL="\u672A\u5173\u95EDBug\u603B\u6570",l.TO_BE_VERIFIED="\u5F85\u9A8C\u8BC1",l.PENDING="\u5F85\u5904\u7406",l}({}),w="LOCAK_KEY",W="VERSION",ie="1.1",oe=function(l){return l[l.DETE_ROW=0]="DETE_ROW",l[l.DETE_COL=0]="DETE_COL",l[l.SUMMARY_LABAL_COL=0]="SUMMARY_LABAL_COL",l[l.SUMMARY_NUM_COL=1]="SUMMARY_NUM_COL",l[l.PM_NAME_COL=15]="PM_NAME_COL",l[l.PM_FIRST_MODULE_COL=16]="PM_FIRST_MODULE_COL",l[l.PM_SECOND_MODULE_COL=17]="PM_SECOND_MODULE_COL",l}({}),O=function(l){return l[l.NO_COL=0]="NO_COL",l[l.MODULE_COL=2]="MODULE_COL",l[l.BUG_TITLE_COL=7]="BUG_TITLE_COL",l[l.BUG_STATUS_COL=15]="BUG_STATUS_COL",l[l.BUG_CREATOR_COL=20]="BUG_CREATOR_COL",l[l.BUG_CREATE_TIME_COL=21]="BUG_CREATE_TIME_COL",l[l.BUG_RESOLVE_TIME_COL=28]="BUG_RESOLVE_TIME_COL",l[l.BUG_ASSIGNOR_COL=23]="BUG_ASSIGNOR_COL",l}({}),be={DATE_REG:/(\d{1,2})[月月](\d{1,2})[日日]/},ue=function(l){return l[l.MOUDLE=0]="MOUDLE",l[l.PEOPLE=1]="PEOPLE",l[l.BUG=2]="BUG",l}({}),Fe=v(81354),ce=v.n(Fe),Me=v(27484),R=v.n(Me),Z=function(e){var t=ce().MD5(e);return t.toString(ce().enc.Hex)},wa=function(e){var t=dayjs(e);return t.startOf("week").add(1,"day")},ve=function(e){var t=R()("1899-12-30"),a=Math.floor(e),r=e-a,d=t.add(a,"day"),i=86400,s=r*i,o=R()("1970-01-01 00:00:00").add(s,"second"),c=d.set("hour",o.hour()).set("minute",o.minute()).set("second",o.second());return c},K=function(e){return e.format("YYYY-MM-DD")},De=function(e){var t=[];return Object.keys(e).forEach(function(a){var r=e[a];t.push(r)}),t},Se=function(e,t){var a=e.filter(function(i){return i!==null}),r=a.reduce(function(i,s){return i[s.date.dateValue]=s,i},{}),d=t.filter(function(i){return!r[i.date.dateValue]});return a=Object.keys(r).map(function(i){return r[i]}).concat(d),a.sort(function(i,s){return R()(s.date.dateValue).valueOf()-R()(i.date.dateValue).valueOf()})},P=v(17030),Le=v(22144),Ne=v(93967),$=v.n(Ne),j=v(67294),Ae=v(5574),Y=v.n(Ae),n=v(85893),Ve=function(){var e=(0,j.useState)(["0","0",":","0","0",":","0","0"]),t=Y()(e,2),a=t[0],r=t[1],d=function(){var s=R()().format("HH:mm:ss");r(s.split(""))};return(0,j.useEffect)(function(){var i=setInterval(function(){d()},1e3);return function(){clearInterval(i)}},[]),(0,n.jsx)("div",{className:"time-clock",children:a.map(function(i,s){return(0,n.jsx)("div",{className:$()("time-clock-item",{"digit-bg":s!==2&&s!==5}),children:i},s)})})},Te=Ve,_=R()(),Ie=pe[_.day()],Re=_.format("YYYY-MM-DD"),Ye=function(){var e=(0,P.useModel)("store"),t=e.allData,a=e.period,r=e.setPeriod,d=t.map(function(o){return o.date.dateValue}),i=(0,j.useRef)(null);(0,j.useEffect)(function(){d.length>0&&r(d[0])},[t]);var s=function(c){r(K(c))};return(0,n.jsxs)("div",{className:$()("header","T2-header"),children:[(0,n.jsx)("div",{className:"header-left",children:(0,n.jsxs)("div",{className:"date-picker",ref:i,children:[(0,n.jsx)("div",{className:"label",children:(0,f.F)("f7b7b27fb396d88").d("\u9009\u62E9\u65E5\u671F\uFF1A")}),(0,n.jsx)("div",{className:"range-picker",children:(0,n.jsx)(Le.Z,{onChange:s,value:R()(a),disabledDate:function(c){var m=d.indexOf(c.format("YYYY-MM-DD"))===-1;return c.isAfter(_)||m},allowClear:!1})})]})}),(0,n.jsx)("div",{className:"header-title",children:(0,n.jsx)("div",{className:"text",children:(0,f.F)("4c675049373c182").d("Bug\u6570\u636E\u603B\u89C8")})}),(0,n.jsxs)("div",{className:"header-right",children:[(0,n.jsx)(Te,{}),(0,n.jsxs)("div",{className:"date",children:[(0,n.jsx)("div",{children:Ie}),(0,n.jsx)("div",{children:Re})]})]})]})},Be=Ye,Oe=function(e){var t=e.title,a=e.bodyStyle,r=e.headerStyle,d=e.style,i=e.children,s=e.className;return(0,n.jsxs)("div",{className:$()("pannel-card","T2",s),style:d,children:[(0,n.jsx)("div",{className:"pannel-card-title",style:r,children:t}),(0,n.jsx)("div",{className:"pannel-card-body",style:a,children:i})]})},fe=Oe,Ue=v(19632),E=v.n(Ue),ke=v(88484),Ze=v(10932),Ge=function(e){var t=(0,j.useRef)(null),a=e.onFile,r=function(){var s;(s=t.current)===null||s===void 0||s.click()},d=function(s){if(s.target.files&&!(s.target.files.length<1)){var o=E()(s.target.files);a&&a(o)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ze.ZP,{style:{background:"#0070ef",color:"#FFF",border:"none"},icon:(0,n.jsx)(ke.Z,{}),onClick:r,children:(0,f.F)("d6aff18816f5581").d("\u70B9\u51FB\u4E0A\u4F20")}),(0,n.jsx)("input",{type:"file",accept:".xlsx",ref:t,style:{display:"none"},onChange:d,multiple:!0})]})},He=Ge,ee=v(84105),ze=function(e){for(var t=[],a=1;a<e.length;a++){var r=e[a],d=parseInt(r[O.NO_COL]);if(!d)break;var i=r[O.MODULE_COL]||(0,f.F)("5de9fe27aae39b2").d("/\u672A\u77E5\u6A21\u584A/"),s=r[O.BUG_TITLE_COL],o=r[O.BUG_STATUS_COL]==="\u6FC0\u6D3B"?0:1,c=r[O.BUG_CREATOR_COL],m=ve(parseFloat(r[O.BUG_CREATE_TIME_COL]+"")),x=ve(parseFloat(r[O.BUG_RESOLVE_TIME_COL]+"")),g=r[O.BUG_ASSIGNOR_COL],u={NO:d,bugModule:i,title:s,status:o,creator:c,createTime:K(m),resolveTime:K(x),assignor:g};t.push(u)}return t},Je=function(e){var t={unClose:0,needVerify:0,needHandle:0};t.unClose=e.length;for(var a=0;a<e.length;a++){var r=e[a].status;r===0?t.needHandle++:t.needVerify++}return t},we=v(64599),Pe=v.n(we),Ee=function(e){var t=Xe(e),a=qe(e),r=We(e),d=Qe(t,a,r);return d},Qe=function(e,t,a){var r=Object.keys(t).map(function(i){var s=t[i],o=s.origin.code,c=a[o],m={name:s.name,code:s.code,unClose:0,needVerify:0,needHandle:0,child:a[o],parent:s.parent},x=me(c);return m.needHandle=x.needHandle,m.needVerify=x.needVerify,m.unClose=x.unClose,m}),d=Object.keys(e).map(function(i){var s=e[i],o=s.code,c=r.filter(function(g){var u;return((u=g.parent)===null||u===void 0?void 0:u.code)===o}),m={name:s.name,code:s.code,unClose:0,needVerify:0,needHandle:0,child:c},x=me(c);return m.needHandle=x.needHandle,m.needVerify=x.needVerify,m.unClose=x.unClose,m});return d},Xe=function(e){for(var t=new Set,a=/\/([^/()]+)(?:\/|\()/,r={},d=0;d<e.length;d++){var i=e[d].bugModule,s=a.exec(i),o=s?s[1]:(0,f.F)("c0387ff20981d7a").d("\u672A\u77E5\u6A21\u584A");t.add(o)}var c=Pe()(t),m;try{for(c.s();!(m=c.n()).done;){var x=m.value,g=Z(x);r[g]={code:g,name:x}}}catch(u){c.e(u)}finally{c.f()}return r},qe=function(e){for(var t={},a=0;a<e.length;a++){var r=e[a].bugModule,d=/\/([^/()]+)(?:\/|\()/,i=Z(r),s=d.exec(r),o=s?s[1]:(0,f.F)("c0387ff20981d7a").d("\u672A\u77E5\u6A21\u584A"),c=Ke(r),m=$e(o,c);m.origin={name:r,code:i},t[m.code]=m}return t},We=function(e){for(var t={},a=0;a<e.length;a++){var r=e[a].bugModule,d=Z(r);t[d]===void 0&&(t[d]={});var i=t[d],s=e[a].assignor,o=Z(e[a].assignor),c=e[a].status;if(!i[o]){var m={name:s,code:o,needHandle:0,needVerify:0,unClose:0,parent:{code:d,name:r}};i[o]=m}c===0?i[o].needHandle++:i[o].needVerify++,i[o].unClose++}var x={};return Object.keys(t).forEach(function(g){var u=t[g],y=De(u);x[g]=y}),x},Ke=function(e){var t=/\/([^/()]+)(?:\/|\()/,a=e.lastIndexOf("/D"),r=e.lastIndexOf("/P"),d="";if(a!==-1)d=e.substring(a+1);else if(r!==-1)d=e.substring(r+1);else{var i=t.exec(e);d=i?i[1]:(0,f.F)("c0387ff20981d7a").d("\u672A\u77E5\u6A21\u584A")}return d},$e=function(e,t){var a=Z(t),r=Z(e);if(r!==a)return{code:a,name:t,parent:{code:r,name:e}};var d=Z("".concat(t,"-sub"));return{code:d,name:t,parent:{code:r,name:e}}},me=function(e){var t=e.reduce(function(a,r){return a.unClose+=r.unClose,a.needVerify+=r.needVerify,a.needHandle+=r.needHandle,a},{unClose:0,needVerify:0,needHandle:0});return t},_e=function(e){var t=be.DATE_REG.exec(e[oe.DETE_ROW][oe.DETE_COL]);if(!t)throw new Error("date error");return{text:(0,f.F)("e7162f71e91ac72",{arg0:t[0]}).d("\u622A\u81F3".concat(t[0],"bug\u60C5\u51B5")),dateValue:R()("2024-".concat(t[1],"-").concat(t[2])).format("YYYY-MM-DD")}},ea=function(e,t){for(var a={today_increase:0,today_resolve:0,today_unhandle:0},r=0;r<e.length;r++){var d=e[r];d.createTime===t&&a.today_increase++,d.resolveTime===t&&d.status===1&&a.today_resolve++,d.createTime===t&&d.status===0&&a.today_unhandle++}return a},aa=function(e){for(var t=[],a=0;a<e.length;a++)if(e[a][19]){var r={title:e[a][19],discription:e[a][20]};t.push(r)}return t},ta=function(e){if(!e)throw new Error("complieFile Error");return new Promise(function(t){var a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(r){var d,i=(d=r.target)===null||d===void 0?void 0:d.result,s=ee.ij(i,{type:"binary"});t({workbook:s,sheetNames:s.SheetNames,sheets:s.Sheets})}})},ra=function(e){for(var t=e.workbook,a=[],r=0;r<t.SheetNames.length;r++){var d=t.SheetNames[r],i=t.Sheets[d];a.push(i)}var s=ee.P6.sheet_to_json(a[ue.PEOPLE],{header:1}),o=ee.P6.sheet_to_json(a[ue.BUG],{header:1}),c=_e(s),m=ze(o),x=Je(m),g=Ee(m),u=ea(m,c.dateValue),y=aa(s);return{date:c,summaryData:x,moduleData:g,dayBugTrendData:u,riskData:y}},na=function(){var l=se()(X()().mark(function e(t){var a;return X()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(t){d.next=2;break}throw new Error("file error");case 2:return d.next=4,ta(t);case 4:return a=d.sent,d.abrupt("return",ra(a));case 6:case"end":return d.stop()}},e)}));return function(t){return l.apply(this,arguments)}}(),he=v(46837),la=v(85673),da=function(e){var t=e.data,a=function(s){e.onClick(s)},r=t.map(function(i,s){return{title:(0,n.jsx)("a",{onClick:function(){return a(s+1)},children:i})}}),d=r.length>0?E()(r):[{title:(0,f.F)("75533dda114e92c").d("\u6A21\u5757bug")}];return(0,n.jsx)(la.Z,{items:d})},sa=da,ia=v(10010),oa=v(39398),ua=v(66600),ca=v(66829),va=function(e,t,a){return e<t?(0,n.jsxs)("div",{className:"cell-icon",children:[(0,n.jsx)("span",{className:"text",children:a}),(0,n.jsx)(ia.Z,{style:{fontSize:"16px",color:"#cc4e57"}}),(0,n.jsx)("span",{style:{color:"#cc4e57"},children:Math.abs(t-e)})]}):e>t?(0,n.jsxs)("div",{className:"cell-icon",children:[(0,n.jsx)("span",{className:"text",children:a}),(0,n.jsx)(oa.Z,{style:{fontSize:"16px",color:"#61d069"}}),(0,n.jsx)("span",{style:{color:"#61d069"},children:Math.abs(t-e)})]}):(0,n.jsxs)("div",{className:"cell-icon",children:[(0,n.jsx)("span",{className:"text",children:a}),(0,n.jsx)(ua.Z,{style:{fontSize:"16px",color:"#406ddf"}})]})},Pa=function(e,t){var a=t.module,r=_jsxs("div",{className:"name-popper-content",children:[_jsxs("div",{className:"name",children:[getMessage("789501f6e5fea1f").d("\u59D3\u540D\uFF1A"),e]}),_jsxs("div",{className:"name",children:[getMessage("f830a2c56d482f6").d("\u4E00\u7D1A\u6A21\u584A\uFF1A"),(a==null?void 0:a.top)||getMessage("ea1ca1f384267a4").d("\u66AB\u7121\u4FE1\u606F")]}),_jsxs("div",{className:"name",children:[getMessage("700dfe7c99bf3a3").d("\u4E8C\u7D1A\u6A21\u584A\uFF1A"),(a==null?void 0:a.sub)||getMessage("ea1ca1f384267a4").d("\u66AB\u7121\u4FE1\u606F")]})]});return _jsx("div",{className:"name-popper",children:_jsx(Popover,{content:r,arrow:!1,placement:"bottomRight",trigger:"hover",destroyTooltipOnHide:!0,children:e})})},fa=function(e){var t=e.columns,a=e.tableRenderData,r=e.tableRef;return(0,n.jsx)("div",{className:"table-container",children:(0,n.jsx)(ca.Z,{columns:t,dataSource:a,pagination:!1,scroll:{y:900},ref:r})})},ma=fa,ae=function(e,t){return function(a,r){var d=t[t.length-1].find(function(o){return o.code===r.code}),i=r[e],s=i;return d&&(s=d[e]),va(s,i,a)}},ge=function(e){e.sort(function(t,a){return a.unClose-t.unClose})},ha=function(e){var t=e.data,a=e.previous,r=(0,j.useRef)(),d=(0,j.useState)(1),i=Y()(d,2),s=i[0],o=i[1],c=(0,j.useState)([]),m=Y()(c,2),x=m[0],g=m[1],u=(0,j.useState)([]),y=Y()(u,2),b=y[0],S=y[1],V=(0,j.useState)([]),T=Y()(V,2),L=T[0],H=T[1];(0,j.useEffect)(function(){var I=t.map(function(C,A){return{key:"".concat(A),name:C.name,needHandle:C.needHandle,needVerify:C.needVerify,unClose:C.unClose,child:C.child,code:C.code}});if(a){var D=a.moduleData.map(function(C,A){return{key:"".concat(A),name:C.name,needHandle:C.needHandle,needVerify:C.needVerify,unClose:C.unClose,child:C.child,code:C.code}});S([D])}ge(I),g([I])},[t]);var M=[{title:(0,f.F)("60b31ddc49ac2f1").d("\u6A21\u5757\u540D\u79F0"),key:"name",dataIndex:"name",filterSearch:!0,render:function(D,C){return(0,n.jsxs)("div",{className:"name-cell-col",onClick:function(){return re(C)},children:[" ",D]})}},{title:(0,f.F)("99dbe10ddbd2e03").d("\u5F85\u5904\u7406"),dataIndex:"needHandle",key:"needHandle",render:ae("needHandle",b),sorter:function(D,C){return C.needHandle-D.needHandle}},{title:(0,f.F)("59ee4c65abccfb8").d("\u5F85\u9A8C\u8BC1"),dataIndex:"needVerify",key:"needVerify",render:ae("needVerify",b),sorter:function(D,C){return C.needVerify-D.needVerify}},{title:(0,f.F)("14dbf3ee4dbe603").d("\u672A\u5173\u95EDBug"),dataIndex:"unClose",key:"unClose",render:ae("unClose",b),sorter:function(D,C){return C.unClose-D.unClose}}],re=function(D){var C,A;if(!(s>=3)){var F;F=(C=D.child)===null||C===void 0?void 0:C.map(function(h,B){return{key:"".concat(B),code:h.code,name:h.name,needHandle:h.needHandle,needVerify:h.needVerify,unClose:h.unClose,child:h.child,parent:h.parent}});var p=(A=b[b.length-1].find(function(h){return h.code===D.code}))===null||A===void 0?void 0:A.child,N=p==null?void 0:p.map(function(h,B){return{key:"".concat(B),code:h.code,name:h.name,needHandle:h.needHandle,needVerify:h.needVerify,unClose:h.unClose,child:h.child,parent:h.parent}});F&&(ge(F),g([].concat(E()(x),[F])),o(function(h){return h+1}),H([].concat(E()(L),[D.name]))),N&&S([].concat(E()(b),[p]))}},ne=function(D){for(var C=[],A=0;A<D-1;A++)C.push(L[A]);H(C),o(D)};return(0,j.useEffect)(function(){var I=x.slice(0,s),D=b.slice(0,s);g(I),S(D)},[s]),(0,n.jsxs)("div",{className:"module-rank",children:[(0,n.jsxs)("div",{className:"right-title",children:[(0,n.jsx)("div",{className:"bread",children:(0,n.jsx)(sa,{data:L,onClick:ne})}),(0,n.jsx)("div",{className:"compare-time",children:(a==null?void 0:a.date)&&(0,f.F)("48d8322560fb9a0",{arg0:a.date.dateValue}).d("\uFF08\u76F8\u8F83\u4E8E".concat(a.date.dateValue,"\uFF09"))})]}),(0,n.jsx)("div",{className:"module-rank-table",children:(0,n.jsx)(ma,{columns:M,tableRenderData:x[x.length-1],tableRef:r})})]})},ga=ha,ya=function(e,t){var a=(0,j.useState)(!1),r=Y()(a,2),d=r[0],i=r[1],s=function(){i(!0)},o=function(){i(!1)};return(0,j.useEffect)(function(){var c,m,x=!0,g=!d,u=e==null?void 0:e.current,y=u==null||(c=u.querySelector(".ant-list"))===null||c===void 0?void 0:c.offsetHeight,b=u==null?void 0:u.offsetHeight,S=u==null||(m=u.querySelector(".ant-list"))===null||m===void 0?void 0:m.scrollTop;console.log(y,b,S);var V=!0,T=function L(){u&&V&&(g=!0,x?(S+=.3,u.scrollTo({top:S}),S>=y-b&&(x=!1)):(S=0,u.scrollTo({top:0}),x=!0),requestAnimationFrame(function(){g=!1,L()}))};return d||T(),function(){V=!1}},[d,t]),{handleTableMouseEnter:s,handleTableMouseLeave:o,isSelt:d}},te=v(69618),xa=function(){var e=(0,P.useModel)("store"),t=e.formatedData,a=t.riskData,r=(0,j.useRef)(null),d=function(){var u={title:(0,f.F)("7799fdb1da37695").d("\u6807\u9898"),discription:(0,f.F)("32110e57d22a75e").d("\u5185\u5BB9")};m()},i=(0,j.useState)(!1),s=Y()(i,2),o=s[0],c=s[1],m=function(){c(!0)},x=function(){c(!1)};return ya(r,[]),(0,n.jsx)("div",{className:"risk-list",ref:r,children:(0,n.jsx)(te.Z,{itemLayout:"horizontal",dataSource:a,renderItem:function(u,y){return(0,n.jsx)(te.Z.Item,{children:(0,n.jsx)(te.Z.Item.Meta,{title:u.title,description:u.discription})},y)}})})},Ca=xa,ja=function(){var e=(0,P.useModel)("store"),t=e.formatedData,a=e.period,r=t.summaryData,d=[{title:(0,f.F)("34d65f83eacbcf8").d("\u4ECA\u65E5\u65B0\u589EBug\u6570"),value:t.dayBugTrendData.today_increase,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("79ae13a3e7abb13").d("\u4ECA\u65E5\u5DF2\u89E3\u51B3-\u5F85\u9A8C\u8BC1"),value:t.dayBugTrendData.today_resolve,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("b699f0a67a375c1").d("\u4ECA\u65E5\u5F85\u5904\u7406Bug\u6570"),value:t.dayBugTrendData.today_unhandle,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")}],i=[{title:(0,f.F)("dfc5410d8cbd8d0").d("\u672A\u5173\u95EDbug\u603B\u6570"),value:r.unClose,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("8850e1465ca9b5c").d("\u5F85\u9A8C\u8BC1bug\u603B\u6570"),value:r.needVerify,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("9d09937111f289f").d("\u5F85\u5904\u7406bug\u603B\u6570"),value:r.needHandle,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")}];return(0,n.jsxs)("div",{className:"summary-info",children:[(0,n.jsxs)("div",{className:"summary-info-left",children:[(0,n.jsx)("div",{className:"pic",children:(0,n.jsx)("img",{src:v(29034),alt:""})}),(0,n.jsx)("div",{className:"date",children:t.date.dateValue})]}),(0,n.jsxs)("div",{className:"summary-info-right",children:[(0,n.jsxs)("div",{className:"week-summary",children:[(0,n.jsx)("div",{className:"category",children:(0,f.F)("ffb98cd32bfec6f").d("\u4ECA\u65E5\u6570\u636E")}),(0,n.jsx)("div",{className:"content",children:d.map(function(s,o){return(0,n.jsxs)("div",{className:"info-item",children:[(0,n.jsx)("div",{className:"title",children:s.title}),(0,n.jsxs)("div",{className:"value",children:[s.value,(0,n.jsx)("span",{className:"unit",children:s.unit})]})]},o)})})]}),(0,n.jsxs)("div",{className:"all-summary",children:[(0,n.jsx)("div",{className:"category",children:(0,f.F)("55ce10cc39fef07").d("\u603B\u89C8")}),(0,n.jsx)("div",{className:"content",children:i.map(function(s,o){return(0,n.jsxs)("div",{className:"info-item",children:[(0,n.jsx)("div",{className:"title",children:s.title}),(0,n.jsxs)("div",{className:"value",children:[s.value,(0,n.jsx)("span",{className:"unit",children:s.unit})]})]},o)})})]})]})]})},pa=ja,ba=v(92783),Fa=v(87155),Ma=v(97369),Da=v(64665),Sa=v(75171),La=v(41151),Na=v(78537),Aa=v(55793),Va=v(35183),Ta=v(78264),Ia=v(6228),Ra=v(96486),Ea=function(e){var t="",a=e.length,r=5,d=Math.ceil(a/r);if(a>r)for(var i=0;i<d;i++){var s="",o=i*r,c=o+r;i===d-1?s=e.substring(o,a):s=e.substring(o,c)+`
`,t+=s}else t=e;return t},Ya={grid:{left:5,right:20,top:75,bottom:20,containLabel:!0},xAxis:[{type:"category",data:[R()().format("YYYY-MM-DD")],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#353842"}},axisLabel:{interval:0,fontSize:16,color:"#FFF",padding:10}}],yAxis:{type:"value",name:(0,f.F)("37b6545a355f5c5").d("\u4E2A"),nameTextStyle:{color:"#FFF",padding:[0,35,5,0]},splitLine:{lineStyle:{type:"dashed",color:"#465167"}},axisLabel:{fontSize:16,color:"#FFF"}},series:[{name:"",data:[],type:"line",emphasis:{focus:"series"},smooth:!0,itemStyle:{color:"#01F1E3"},zlevel:11},{data:[],name:(0,f.F)("a027216de51002d").d("\u7D2F\u8A08\u8655\u7406bug\u6578"),type:"line",emphasis:{focus:"series"},smooth:!0,itemStyle:{borderRadius:[6,6,0,0],color:"#ffc000"},zlevel:11}],tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}}},ye=Ya;Va.D([Sa.N,La.N,Na.N,Aa.N,Ma.N,Da.N,Ia.N]);var xe=[(0,f.F)("fb06170cad99453").d("\u5F85\u5F00\u53D1\u5904\u7406bug"),(0,f.F)("2a67fdef5b0ba53").d("\u5F85\u9A8C\u8BC1bug"),(0,f.F)("a19e58166ec2ed4").d("\u672A\u5173\u95EDbug")].map(function(l,e){return{value:"".concat(e),label:l}}),Ba=["#01F1E3","#7D40FF","#406ddf"],Oa=function(e){var t=(0,P.useModel)("store"),a=t.allData,r=t.period,d=(0,j.useRef)(null),i=(0,j.useRef)(null),s=(0,j.useState)([]),o=Y()(s,2),c=o[0],m=o[1],x=(0,j.useState)(0),g=Y()(x,2),u=g[0],y=g[1],b=(0,j.useState)("0"),S=Y()(b,2),V=S[0],T=S[1],L=function(){var p;(p=d.current)===null||p===void 0||p.getEchartsInstance().dispatchAction({type:"showTip",dataIndex:u,seriesIndex:0})},H=function(){i.current&&clearInterval(i.current),L()},M=function(p){H(),L();var N=setInterval(function(){y(function(h){return(h+1)%p})},2e3);i.current=N};(0,j.useEffect)(function(){M(c.length)},[c]),(0,j.useEffect)(function(){if(u%7===0){var F;(F=d.current)===null||F===void 0||F.getEchartsInstance().dispatchAction({type:"dataZoom",startValue:u,endValue:u+6})}L()},[u]);var re=function(p){T(p),I(p)},ne=function(){for(var p=[],N=0;N<c.length;N++){var h=c[N],B=h.summaryData.needHandle,G=h.summaryData.needVerify,U=h.summaryData.unClose,z={date:h.date.dateValue,numData:[B,G,U]};p.push(z)}for(var Q={},J=[0,0,0],k=a.length-1;k>=0;k--){var q=a[k],Ga=q.dayBugTrendData.today_increase,Ha=q.dayBugTrendData.today_unhandle,za=q.dayBugTrendData.today_resolve;J[0]+=Ha,J[1]+=za,J[2]+=Ga,Q[q.date.dateValue]=[].concat(J)}return{seriesData:p,dayBugMap:Q}},I=function(p){var N,h=ne(),B=h.seriesData,G=h.dayBugMap,U=(0,Ra.cloneDeep)(ye),z=parseInt(p),Q=[],J=c.map(function(k){return k.date.dateValue});U.xAxis[0].data=J,U.series[0].data=B.map(function(k){return Q.push(G[k.date][z]),k.numData[z]}),U.series[0].itemStyle.color=Ba[z],U.series[0].name=xe[z].label,U.series[1].data=Q,(N=d.current)===null||N===void 0||N.getEchartsInstance().setOption(U)};(0,j.useEffect)(function(){var F=a.findIndex(function(B){var G;return((G=B.date)===null||G===void 0?void 0:G.dateValue)===r}),p=F,N=Math.min(F+7,a.length),h=a.slice(p,N).reverse();m(h)},[a,r]);var D=function(p,N){var h;(h=d.current)===null||h===void 0||h.getEchartsInstance().on(p,N)},C=function(p,N){var h;(h=d.current)===null||h===void 0||h.getEchartsInstance().off(p,N)},A=function(p){y(p.batch[0].dataIndex)};return(0,j.useEffect)(function(){return y(0),T("0"),I("0"),D("highlight",A),function(){C("highlight",A)}},[c]),(0,n.jsxs)("div",{className:"charts",onMouseEnter:H,onMouseLeave:function(){return M(c.length)},children:[(0,n.jsx)("div",{className:"button-group",children:(0,n.jsx)(ba.Z,{options:xe,onChange:re,value:V})}),(0,n.jsx)(Fa.Z,{style:{height:"100%"},echarts:Ta,ref:d,option:ye})]})},Ua=Oa,ka=function(){var e=(0,P.useModel)("store"),t=e.allData,a=e.setAllData,r=e.formatedData,d=e.setFormatedData,i=e.period,s=e.setPeriod,o=function(){var g=se()(X()().mark(function u(y){var b,S,V,T,L;return X()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:M.prev=0,b=[],S=0;case 3:if(!(S<y.length)){M.next=12;break}return V=y[S],M.next=7,na(V);case 7:T=M.sent,b.push(T);case 9:S++,M.next=3;break;case 12:if(!(!b||b.length<1)){M.next=14;break}return M.abrupt("return");case 14:L=Se(b,t),d(L[0]),a(L),c(L),s(L[0].date.dateValue),he.ZP.success((0,f.F)("da1cf0b7ac072f4").d("\u89E3\u6790\u6210\u529F")),M.next=26;break;case 22:M.prev=22,M.t0=M.catch(0),console.log(M.t0),he.ZP.error((0,f.F)("8feb1a279c6a6f7").d("\u89E3\u6790\u5931\u6557"));case 26:case"end":return M.stop()}},u,null,[[0,22]])}));return function(y){return g.apply(this,arguments)}}(),c=function(u){var y=localStorage.getItem(w);y&&localStorage.removeItem(w),localStorage.setItem(w,JSON.stringify(u))};(0,j.useEffect)(function(){var g=localStorage.getItem(W);(!g||g!==ie)&&(localStorage.removeItem(W),localStorage.removeItem(w),localStorage.setItem(W,ie));var u=localStorage.getItem(w);if(u){var y=JSON.parse(u);y.length>0&&(a(y),d(y[0]))}},[]),(0,j.useEffect)(function(){var g=t.find(function(u){var y;return((y=u.date)===null||y===void 0?void 0:y.dateValue)===i});g&&d(g)},[i]);var m=function(){for(var u=r.date.dateValue,y=u,b=0;b<t.length;b++){var S=t[b],V=R()(S.date.dateValue),T=R()(u);V.isBefore(T)&&T.diff(V,"day")<=7&&(y=V.format("YYYY-MM-DD"))}return t.find(function(L){return L.date.dateValue===y})},x=m();return(0,n.jsxs)("div",{className:"bug-view",children:[(0,n.jsx)(Be,{}),(0,n.jsx)("div",{className:"uploadbtn",children:(0,n.jsx)(He,{onFile:o})}),(0,n.jsxs)("div",{className:"main",children:[(0,n.jsxs)("div",{className:"left",children:[(0,n.jsx)("div",{className:"left_1",children:(0,n.jsx)(pa,{})}),(0,n.jsx)("div",{className:"left_2",children:(0,n.jsx)(fe,{title:(0,f.F)("fa111ac518a0117").d("\u98CE\u9669\u63D0\u9192"),className:"bg2",children:(0,n.jsx)(Ca,{})})}),(0,n.jsx)("div",{className:"left_3",children:(0,n.jsx)(fe,{title:(0,f.F)("21275d7a13fb595").d("bug\u8D8B\u52BF"),className:"bg2",children:(0,n.jsx)(Ua,{data:r.moduleData})})})]}),(0,n.jsx)("div",{className:"right",children:(0,n.jsx)("div",{className:"module",children:(0,n.jsx)(ga,{data:r.moduleData,previous:x})})})]})]})},Za=ka},29034:function(le){"use strict";le.exports="data:image/jpeg;base64,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"},42480:function(){},20067:function(){}}]);
