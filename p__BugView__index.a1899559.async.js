(self.webpackChunk=self.webpackChunk||[]).push([[518],{34770:function(_,ee,d){"use strict";d.r(ee),d.d(ee,{default:function(){return Ca}});var Ie=d(15009),K=d.n(Ie),Ce=d(99289),ae=d.n(Ce),Oe=d(5574),P=d.n(Oe),h=d(958),Me=[(0,h.F)("a23654bdc84f2b9").d("\u661F\u671F\u65E5"),(0,h.F)("2e4d0b3dd708930").d("\u661F\u671F\u4E00"),(0,h.F)("abf3e3e4c49e13c").d("\u661F\u671F\u4E8C"),(0,h.F)("791f5c5d3817522").d("\u661F\u671F\u4E09"),(0,h.F)("5fcf5174527fcf0").d("\u661F\u671F\u56DB"),(0,h.F)("41128c67d7aee99").d("\u661F\u671F\u4E94"),(0,h.F)("ae81f0697d5a8d8").d("\u661F\u671F\u516D")],Q=function(j){return j.UNCLOSE_ALL="\u672A\u5173\u95EDBug\u603B\u6570",j.TO_BE_VERIFIED="\u5F85\u9A8C\u8BC1",j.PENDING="\u5F85\u5904\u7406",j}({}),G="LOCAK_KEY",Le=d(35363),Ae=d(93377),Te=d(60399),W=d(17030),Ve=d(27391),Ye=d(93967),U=d.n(Ye),Re=d(27484),T=d.n(Re),y=d(67294),a=d(85893),Be=function(){var l=(0,y.useState)(["0","0",":","0","0",":","0","0"]),t=P()(l,2),e=t[0],r=t[1],n=function(){var o=T()().format("HH:mm:ss");r(o.split(""))};return(0,y.useEffect)(function(){var s=setInterval(function(){n()},1e3);return function(){clearInterval(s)}},[]),(0,a.jsx)("div",{className:"time-clock",children:e.map(function(s,o){return(0,a.jsx)("div",{className:U()("time-clock-item",{"digit-bg":o!==2&&o!==5}),children:s},o)})})},Pe=Be,q=T()(),Ze=Me[q.day()],ke=q.format("YYYY-MM-DD"),ze=function(){var l=(0,W.useModel)("global"),t=l.allData,e=l.period,r=l.setPeriod,n=t.map(function(p){return p.date.dateValue}),s=(0,y.useRef)(null),o=(0,y.useRef)(null),v=(0,y.useState)(!1),i=P()(v,2),m=i[0],c=i[1];(0,Te.t$)([s,o],function(){c(!1)});var x=function(u){u&&r(T()(u).format("YYYY-MM-DD"))};return(0,y.useEffect)(function(){n.length>0&&r(n[0])},[t]),(0,y.useEffect)(function(){c(!1)},[e]),(0,a.jsxs)("div",{className:U()("header","T2-header"),children:[(0,a.jsxs)("div",{className:"header-left",children:[(0,a.jsxs)("div",{className:"date-picker",onClick:function(){return c(function(u){return!u})},ref:s,children:[(0,a.jsx)("div",{className:"label",children:(0,h.F)("f7b7b27fb396d88").d("\u9009\u62E9\u65E5\u671F\uFF1A")}),(0,a.jsx)(Le.ZP,{addonAfter:(0,a.jsx)(Ae.Z,{type:"date"}),readOnly:!0,value:e})]}),(0,a.jsx)("div",{className:U()("calendar-container",{"calendar-container-show":m}),ref:o,children:(0,a.jsx)(Ve.f,{selectionMode:"single",className:"calendar-control",defaultValue:T()(e).toDate(),value:T()(e).toDate(),shouldDisableDate:function(u){var f=T()(u),S=n.indexOf(f.format("YYYY-MM-DD"))===-1;return f.isAfter(q)||S},onChange:x})})]}),(0,a.jsx)("div",{className:"header-title",children:(0,a.jsx)("div",{className:"text",children:(0,h.F)("4c675049373c182").d("Bug\u6570\u636E\u603B\u89C8")})}),(0,a.jsxs)("div",{className:"header-right",children:[(0,a.jsx)(Pe,{}),(0,a.jsxs)("div",{className:"date",children:[(0,a.jsx)("div",{children:Ze}),(0,a.jsx)("div",{children:ke})]})]})]})},He=ze,Je=function(l){var t=l.title,e=l.bodyStyle,r=l.headerStyle,n=l.style,s=l.children,o=l.className;return(0,a.jsxs)("div",{className:U()("pannel-card","T2",o),style:n,children:[(0,a.jsx)("div",{className:"pannel-card-title",style:r,children:t}),(0,a.jsx)("div",{className:"pannel-card-body",style:e,children:s})]})},te=Je,we=d(19632),Xe=d.n(we),Ke=d(88484),Ge=d(10932),Ue=function(l){var t=(0,y.useRef)(null),e=l.onFile,r=function(){var o;(o=t.current)===null||o===void 0||o.click()},n=function(o){if(o.target.files&&!(o.target.files.length<1)){var v=Xe()(o.target.files);e&&e(v)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ge.ZP,{style:{background:"#0070ef",color:"#FFF",border:"none"},icon:(0,a.jsx)(Ke.Z,{}),onClick:r,children:(0,h.F)("d6aff18816f5581").d("\u70B9\u51FB\u4E0A\u4F20")}),(0,a.jsx)("input",{type:"file",accept:".xlsx",ref:t,style:{display:"none"},onChange:n,multiple:!0})]})},Qe=Ue,We=d(81354),re=d.n(We),k=function(l){var t=re().MD5(l);return t.toString(re().enc.Hex)},qe=function(l,t){var e=l.filter(function(s){return s!==null}),r=e.reduce(function(s,o){return s[o.date.dateValue]=o,s},{}),n=t.filter(function(s){return!r[s.date.dateValue]});return e=Object.keys(r).map(function(s){return r[s]}).concat(n),e.sort(function(s,o){return T()(o.date.dateValue).valueOf()-T()(s.date.dateValue).valueOf()})},$e=d(97857),_e=d.n($e),ea=d(64599),ne=d.n(ea),z=d(84105),le=d(46837),aa=function(l){return l?new Promise(function(t){var e=new FileReader;e.readAsArrayBuffer(l),e.onload=function(r){var n,s=(n=r.target)===null||n===void 0?void 0:n.result,o=z.ij(s,{type:"binary"});t({workbook:o,sheetNames:o.SheetNames,sheets:o.Sheets})}}):Promise.resolve(null)},ta=function(l){for(var t=z.P6.sheet_to_json(l,{header:1}),e={unClose:0,unVerify:0,pending:0},r=0;r<t.length;r++)for(var n=0;n<t[0].length;n++){var s=t[r][n];if(s===Q.UNCLOSE_ALL)e.unClose=parseInt(t[r][n+1]);else if(s===Q.TO_BE_VERIFIED)e.unVerify=parseInt(t[r][n+1]);else if(s===Q.PENDING)e.pending=parseInt(t[r][n+1]);else continue}return e},ra=function(l){for(var t=/\/([^/()]+)(?:\/|\()/,e=/.*?(?=\(#\d+\))/,r=z.P6.sheet_to_json(l,{header:1}),n=new Map,s=new Set,o=0;o<r.length;o++){var v=r[o][0].split(" "),i=t.exec(v[0]);i&&s.add(i[1])}var m=ne()(s),c;try{for(m.s();!(c=m.n()).done;){var x=c.value,p=k(x);n.set(p,x)}}catch(D){m.e(D)}finally{m.f()}for(var u=[],f=0;f<r.length;f++){var S=r[f][0].split(" ").filter(function(D){return D!==""}),N=t.exec(S[0]),L=e.exec(S[1]);if(N){var O="";L?O=L[0]:O=N[1];var V=k(O===N[1]?"".concat(O,"-sub"):O),Z=k(N[1]),C=parseInt(r[f][1]||"0"),J=parseInt(r[f][2]||"0"),H=parseInt(r[f][3]||"0"),M={code:V,parent:Z,total:C,unresolve:J,resolved:H,moduleName:O};u.push(M)}}var E=[],I=ne()(n),g;try{var b=function(){for(var F=g.value,A=P()(F,2),Y=A[0],w=A[1],R=u.filter(function(Oa){return Oa.parent===Y}),B=0,Se=0,Ee=0,X=0;X<R.length;X++)B+=R[X].total,Se+=R[X].resolved,Ee+=R[X].unresolve;E.push({topModuleCode:Y,topModuleName:w,subModules:R,total:B,resolved:Se,unresolve:Ee})};for(I.s();!(g=I.n()).done;)b()}catch(D){I.e(D)}finally{I.f()}return E.sort(function(D,F){return F.unresolve-D.unresolve})},na=function(l){for(var t=z.P6.sheet_to_json(l,{header:1}),e=[],r=3;r<t.length;r++){var n=t[r][6],s=parseInt(t[r][7]||"0"),o=k(n);if(n===(0,h.F)("b0efcb0ad259c0d").d("\u603B\u8BA1")||n==="\u603B\u8BA1")break;e.push({name:n,bugNum:s,code:o})}return e.filter(function(v){return v.name&&v.name.trim()}).sort(function(v,i){return i.bugNum-v.bugNum})},la=function(l){for(var t=z.P6.sheet_to_json(l,{header:1}),e=[],r=3;r<t.length;r++){var n=t[r][3],s=parseInt(t[r][4]||"0"),o=k(n);if(n===(0,h.F)("b0efcb0ad259c0d").d("\u603B\u8BA1")||n==="\u603B\u8BA1")break;e.push({name:n,bugNum:s,code:o,needPending:0,needVerify:0})}for(var v={},i=3;i<t.length;i++){var m=t[i][9],c=t[i][12],x=parseInt(t[i][10]||"0"),p=parseInt(t[i][13]||"0");if(m===(0,h.F)("b0efcb0ad259c0d").d("\u603B\u8BA1")||m==="\u603B\u8BA1")break;var u=k(m),f=k(c);u&&(v[u]===void 0?v[u]={name:m,needPending:x,needVerify:0}:v[u].needPending=x),f&&(v[f]===void 0?v[f]={name:c,needPending:0,needVerify:p}:v[f].needVerify=p)}return e=e.map(function(S){var N=_e()({},S);return v[N.code]&&(N.needPending=v[N.code].needPending,N.needVerify=v[N.code].needVerify),N}),e.sort(function(S,N){return N.bugNum-S.bugNum})},sa=function(l){var t=z.P6.sheet_to_json(l,{header:1}),e=/(\d{1,2})[月月](\d{1,2})[日日]/,r=e.exec(t[0][0]);if(r)le.ZP.success("\u89E3\u6790\u6210\u529F");else throw new Error("error");return{text:(0,h.F)("e7162f71e91ac72",{arg0:r[0]}).d("\u622A\u81F3".concat(r[0],"bug\u60C5\u51B5")),dateValue:T()("2024-".concat(r[1],"-").concat(r[2])).format("YYYY-MM-DD")}},oa=function(l){for(var t=l.workbook,e=[],r=0;r<t.SheetNames.length-1;r++){var n=t.SheetNames[r],s=t.Sheets[n];e.push(s)}var o=sa(e[1]),v=ra(e[0]),i=ta(e[1]),m=na(e[1]),c=la(e[1]);return{summaryData:i,moduleData:v,developerData:m,testData:c,date:o}},ia=function(){var j=ae()(K()().mark(function l(t){var e,r,n,s,o,v,i;return K()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t){c.next=2;break}return c.abrupt("return",null);case 2:return c.next=4,aa(t);case 4:return e=c.sent,r={unClose:0,unVerify:0,pending:0},n=[],s=[],o=[],v={text:(0,h.F)("25e1e7308255f3a",{arg0:T()().format("M\u6708D\u65E5")}).d("\u622A\u81F3".concat(T()().format("M\u6708D\u65E5"),"bug\u60C5\u51B5")),dateValue:T()().format("YYYY-MM-DD")},e&&(i=oa(e),v=i.date,r=i.summaryData,n=i.moduleData,s=i.developerData,o=i.testData),c.abrupt("return",{summaryData:r,moduleData:n,developerData:s,testData:o,date:v});case 12:case"end":return c.stop()}},l)}));return function(t){return j.apply(this,arguments)}}(),se=d(87155),oe=d(97369),ie=d(64665),de=d(75171),ue=d(41151),ce=d(78537),ve=d(55793),da=d(84636),fe=d(35183),he=d(78264),me=d(6228),ge=d(96486),ua=function(l){var t="",e=l.length,r=7,n=Math.ceil(e/r);if(e>r)for(var s=0;s<n;s++){var o="",v=s*r,i=v+r;s===n-1?o=l.substring(v,e):o=l.substring(v,i)+`
`,t+=o}else t=l;return t},ca={grid:{left:5,right:20,top:75,bottom:20,containLabel:!0},dataZoom:[{type:"inside",startValue:0,endValue:6,zoomLock:!0}],legend:{selectedMode:!1,data:[(0,h.F)("bbac15a1e3f2800").d("\u5DF2\u89E3\u51B3bug"),(0,h.F)("87739ef5044e1fd").d("\u672A\u89E3\u51B3bug")],top:"1%",right:"3%",itemWidth:8,itemHeight:8,itemGap:30,textStyle:{fontSize:"14px",color:"#8694B4",letterSpacing:0,fontWeight:400}},xAxis:[{type:"category",data:[(0,h.F)("66248ddd7183d01").d("\u901A\u7528\u5E94\u7528"),(0,h.F)("6feea1ef86a7856").d("\u5373\u65F6\u7ECF\u8425"),(0,h.F)("ce6f6425d796416").d("\u535A\u5F69\u76D1\u5BDF"),(0,h.F)("e707ef9e3b2899d").d("\u70B9\u7B97\u7BA1\u7406")],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#353842"}},axisLabel:{interval:0,fontSize:16,color:"#FFF",padding:10,formatter:ua}}],yAxis:{type:"value",name:(0,h.F)("37b6545a355f5c5").d("\u4E2A"),nameTextStyle:{color:"#FFF",padding:[0,35,5,0]},splitLine:{lineStyle:{type:"dashed",color:"#465167"}},axisLabel:{fontSize:16,color:"#FFF"}},series:[{name:(0,h.F)("87739ef5044e1fd").d("\u672A\u89E3\u51B3bug"),data:[0,0,0,0],type:"bar",barWidth:6,emphasis:{focus:"series"},itemStyle:{borderRadius:[6,6,6,6],color:"#01F1E3"},zlevel:11},{data:[0,0,0,0],name:(0,h.F)("bbac15a1e3f2800").d("\u5DF2\u89E3\u51B3bug"),type:"bar",barWidth:6,emphasis:{focus:"series"},itemStyle:{borderRadius:[6,6,0,0],color:"#7D40FF"},zlevel:11}],tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}}},be=ca,va=d(61025);fe.D([de.N,ue.N,ce.N,ve.N,da.N,oe.N,ie.N,me.N]);var fa=function(l){var t=l.data,e=(0,y.useRef)(null),r=(0,y.useState)(!1),n=P()(r,2),s=n[0],o=n[1],v=(0,y.useState)(0),i=P()(v,2),m=i[0],c=i[1],x=(0,y.useRef)(null),p=(0,y.useState)(t),u=P()(p,2),f=u[0],S=u[1],N=function(){O(),x.current&&clearInterval(x.current)},L=function(b){N(),O();var D=setInterval(function(){c(function(F){return(F+1)%b})},2e3);x.current=D},O=function(){var b;(b=e.current)===null||b===void 0||b.getEchartsInstance().dispatchAction({type:"showTip",dataIndex:m,seriesIndex:0})};(0,y.useEffect)(function(){if(m%7===0){var g;(g=e.current)===null||g===void 0||g.getEchartsInstance().dispatchAction({type:"dataZoom",startValue:m,endValue:m+6})}O()},[m]);var V=function(b,D){var F;if(!(!b||b.length<1)){var A=(0,ge.cloneDeep)(be),Y=[];D?Y=b==null?void 0:b.map(function(B){return B.moduleName}):Y=b==null?void 0:b.map(function(B){return B.topModuleName});var w=b.map(function(B){return B.resolved}),R=b.map(function(B){return B.unresolve});A.xAxis[0].data=Y,A.series[0].data=R,A.series[1].data=w,(F=e.current)===null||F===void 0||F.getEchartsInstance().setOption(A)}},Z=function(b){if(!s&&!(!f||f.length<1)){var D=e.current.getEchartsInstance(),F=b.offsetX,A=b.offsetY,Y=[F,A];if(D.containPixel("grid",Y)){var w=D.convertFromPixel({seriesIndex:0},Y)[0],R=f[w].subModules;if(!R)return;R.length>7&&L(R.length),S(R),o(!0),V(R,!0)}}},C=function(b){c(b.batch[0].dataIndex)};(0,y.useEffect)(function(){S(t),o(!1),L(t.length)},[t]);var J=function(b,D){var F;(F=e.current)===null||F===void 0||F.getEchartsInstance().getZr().on(b,D)},H=function(b,D){var F;(F=e.current)===null||F===void 0||F.getEchartsInstance().getZr().off(b,D)},M=function(b,D){var F;(F=e.current)===null||F===void 0||F.getEchartsInstance().on(b,D)},E=function(b,D){var F;(F=e.current)===null||F===void 0||F.getEchartsInstance().off(b,D)};(0,y.useEffect)(function(){return s||V(f,s),c(0),J("click",Z),M("highlight",C),function(){H("click",Z),E("highlight",C)}},[f,s]),(0,y.useEffect)(function(){c(0),N()},[s]);var I=function(){o(!1),N()};return(0,a.jsxs)("div",{className:"charts",onMouseEnter:N,onMouseLeave:function(){return L(f.length)},children:[s&&(0,a.jsx)("div",{className:"back",onClick:I,children:(0,a.jsx)(va.Z,{style:{color:"#2f6ee7",fontSize:"25px",marginTop:"10px"}})}),(0,a.jsx)(se.Z,{style:{height:"100%"},echarts:he,ref:e,option:be})]})},ha=fa,ma=function(l){var t=l.data,e=[{title:(0,h.F)("a22c9d966fd2479").d("\u672A\u5173\u95EDBug\u603B\u6570"),value:t.unClose,unit:(0,h.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,h.F)("59ee4c65abccfb8").d("\u5F85\u9A8C\u8BC1"),value:t.unVerify,unit:(0,h.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,h.F)("99dbe10ddbd2e03").d("\u5F85\u5904\u7406"),value:t.pending,unit:(0,h.F)("37b6545a355f5c5").d("\u4E2A")}];return(0,a.jsxs)("div",{className:"summary-info",children:[(0,a.jsxs)("div",{className:"summary-info-left",children:[(0,a.jsx)("div",{className:"pic",children:(0,a.jsx)("img",{src:d(29034),alt:""})}),(0,a.jsx)("div",{className:"date",children:l.date})]}),(0,a.jsx)("div",{className:"summary-info-right",children:e.map(function(r,n){return(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("div",{className:"title",children:r.title}),(0,a.jsxs)("div",{className:"value",children:[r.value,(0,a.jsx)("span",{className:"unit",children:r.unit})]}),(0,a.jsx)("div",{className:"trend"})]},n)})})]})},ga=ma,xe=function(l,t){var e=(0,y.useState)(!1),r=P()(e,2),n=r[0],s=r[1],o=function(){s(!0)},v=function(){s(!1)};return(0,y.useEffect)(function(){var i,m,c,x=!0,p=!n,u=l==null?void 0:l.current,f=u==null||(i=u.nativeElement)===null||i===void 0||(i=i.querySelector(".ant-table-tbody"))===null||i===void 0?void 0:i.offsetHeight,S=u==null||(m=u.nativeElement)===null||m===void 0||(m=m.querySelector(".ant-table-body"))===null||m===void 0?void 0:m.offsetHeight,N=u==null||(c=u.nativeElement)===null||c===void 0||(c=c.querySelector(".ant-table-body"))===null||c===void 0?void 0:c.scrollTop,L=!0,O=function V(){u&&L&&(p=!0,x?(N+=.3,u.scrollTo({top:N}),N>=f-S&&(x=!1)):(N=0,u.scrollTo({top:0}),x=!0),requestAnimationFrame(function(){p=!1,V()}))};return n||O(),function(){L=!1}},[n,t]),{handleTableMouseEnter:o,handleTableMouseLeave:v,isSelt:n}},pe=d(10010),Ne=d(39398),ye=d(66600),De=d(86095),ba=function(l,t,e){return l<t?(0,a.jsxs)("div",{className:"cell-icon",children:[(0,a.jsx)("span",{className:"text",children:e}),(0,a.jsx)(pe.Z,{style:{fontSize:"16px",color:"#cc4e57"}}),(0,a.jsx)("span",{style:{color:"#cc4e57"},children:Math.abs(t-l)})]}):l>t?(0,a.jsxs)("div",{className:"cell-icon",children:[(0,a.jsx)("span",{className:"text",children:e}),(0,a.jsx)(Ne.Z,{style:{fontSize:"16px",color:"#61d069"}}),(0,a.jsx)("span",{style:{color:"#61d069"},children:Math.abs(t-l)})]}):(0,a.jsxs)("div",{className:"cell-icon",children:[(0,a.jsx)("span",{className:"text",children:e}),(0,a.jsx)(ye.Z,{style:{fontSize:"16px",color:"#406ddf"}})]})},$=function(l,t){return function(e,r){var n=t.testData.find(function(v){return v.code===r.code}),s=r[l],o=s;return n&&(o=n[l]),ba(o,s,e)}},xa=function(l){var t=l.data,e=l.previousData,r=(0,y.useRef)(),n=xe(r,l.data),s=n.handleTableMouseEnter,o=n.handleTableMouseLeave,v=t.map(function(m,c){return{key:"".concat(c),name:m.name,needPending:m.needPending,needVerify:m.needVerify,bugNum:m.bugNum,code:m.code}}),i=[{title:(0,h.F)("7729237976a502f").d("\u6D4B\u8BD5\u8D23\u4EFB\u4EBA"),key:"name",dataIndex:"name",filterSearch:!0},{title:(0,h.F)("376c55f425a6e64").d("\u5F85\u5F00\u53D1\u5904\u7406"),dataIndex:"needPending",key:"needPending",render:$("needPending",e),sorter:function(c,x){return x.needPending-c.needPending}},{title:(0,h.F)("59ee4c65abccfb8").d("\u5F85\u9A8C\u8BC1"),dataIndex:"needVerify",key:"needVerify",render:$("needVerify",e),sorter:function(c,x){return x.needVerify-c.needVerify}},{title:(0,h.F)("14dbf3ee4dbe603").d("\u672A\u5173\u95EDBug"),dataIndex:"bugNum",key:"bugNum",render:$("bugNum",e),sorter:function(c,x){return x.bugNum-c.bugNum}}];return(0,a.jsx)("div",{className:"container",onMouseEnter:s,onMouseLeave:o,children:(0,a.jsx)(De.Z,{columns:i,dataSource:v,pagination:!1,scroll:{y:900},ref:r})})},pa=xa,Na=d(92783),Ma=function(l){var t="",e=l.length,r=5,n=Math.ceil(e/r);if(e>r)for(var s=0;s<n;s++){var o="",v=s*r,i=v+r;s===n-1?o=l.substring(v,e):o=l.substring(v,i)+`
`,t+=o}else t=l;return t},ya={grid:{left:5,right:20,top:75,bottom:20,containLabel:!0},xAxis:[{type:"category",data:[T()().format("YYYY-MM-DD")],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#353842"}},axisLabel:{interval:0,fontSize:16,color:"#FFF",padding:10}}],yAxis:{type:"value",name:(0,h.F)("37b6545a355f5c5").d("\u4E2A"),nameTextStyle:{color:"#FFF",padding:[0,35,5,0]},splitLine:{lineStyle:{type:"dashed",color:"#465167"}},axisLabel:{fontSize:16,color:"#FFF"}},series:[{name:"",data:[],type:"line",emphasis:{focus:"series"},smooth:!0,itemStyle:{color:"#01F1E3"},zlevel:11},{data:[],name:"\u7D2F\u8A08\u8655\u7406bug\u6578",type:"line",emphasis:{focus:"series"},smooth:!0,itemStyle:{borderRadius:[6,6,0,0],color:"#ffc000"},zlevel:11}],tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}}},Fe=ya;fe.D([de.N,ue.N,ce.N,ve.N,oe.N,ie.N,me.N]);var je=[(0,h.F)("fb06170cad99453").d("\u5F85\u5F00\u53D1\u5904\u7406bug"),(0,h.F)("2a67fdef5b0ba53").d("\u5F85\u9A8C\u8BC1bug"),(0,h.F)("a19e58166ec2ed4").d("\u672A\u5173\u95EDbug")].map(function(j,l){return{value:"".concat(l),label:j}}),Da=["#01F1E3","#7D40FF","#406ddf"],Fa=function(l){var t=(0,W.useModel)("global"),e=t.allData,r=t.period,n=(0,y.useRef)(null),s=(0,y.useRef)(null),o=(0,y.useState)([]),v=P()(o,2),i=v[0],m=v[1],c=(0,y.useState)(0),x=P()(c,2),p=x[0],u=x[1],f=function(){var E;(E=n.current)===null||E===void 0||E.getEchartsInstance().dispatchAction({type:"showTip",dataIndex:p,seriesIndex:0})},S=function(){s.current&&clearInterval(s.current),f()},N=function(E){S(),f();var I=setInterval(function(){u(function(g){return(g+1)%E})},2e3);s.current=I};(0,y.useEffect)(function(){N(i.length)},[i]),(0,y.useEffect)(function(){if(p%7===0){var M;(M=n.current)===null||M===void 0||M.getEchartsInstance().dispatchAction({type:"dataZoom",startValue:p,endValue:p+6})}f()},[p]);var L=function(E){Z(E)},O=function(){for(var E=[],I=0;I<i.length;I++){for(var g=e[I],b=0,D=0,F=0,A=0;A<g.testData.length;A++)b+=g.testData[A].needPending,D+=g.testData[A].needVerify,F+=g.testData[A].bugNum;E.push([b,D,F])}return E},V=O(),Z=function(E){var I,g=(0,ge.cloneDeep)(Fe),b=parseInt(E),D=0,F=[],A=i.map(function(Y){return Y.date.dateValue});g.xAxis[0].data=A,g.series[0].data=V.map(function(Y){return F.push(D),D+=Y[b],Y[b]}),g.series[0].itemStyle.color=Da[b],g.series[0].name=je[b].label,g.series[1].data=F,(I=n.current)===null||I===void 0||I.getEchartsInstance().setOption(g)};(0,y.useEffect)(function(){var M=e.findIndex(function(b){var D;return((D=b.date)===null||D===void 0?void 0:D.dateValue)===r}),E=M,I=Math.min(M+7,e.length),g=e.slice(E,I).reverse();m(g)},[e,r]),(0,y.useEffect)(function(){Z("0")},[i]);var C=function(E,I){var g;(g=n.current)===null||g===void 0||g.getEchartsInstance().on(E,I)},J=function(E,I){var g;(g=n.current)===null||g===void 0||g.getEchartsInstance().off(E,I)},H=function(E){u(E.batch[0].dataIndex)};return(0,y.useEffect)(function(){return u(0),C("highlight",H),function(){J("highlight",H)}},[i]),(0,a.jsxs)("div",{className:"charts",onMouseEnter:S,onMouseLeave:function(){return N(i.length)},children:[(0,a.jsx)("div",{className:"button-group",children:(0,a.jsx)(Na.Z,{options:je,onChange:L})}),(0,a.jsx)(se.Z,{style:{height:"100%"},echarts:he,ref:n,option:Fe})]})},ja=Fa,Sa=function(l){var t=l.data,e=l.previousData,r=function(x,p){var u=e.developerData.find(function(N){return N.code===p.code}),f=p.bugNum,S=f;return u&&(S=u.bugNum),S<f?(0,a.jsxs)("div",{className:"cell-icon",children:[(0,a.jsx)("span",{className:"text",children:x}),(0,a.jsx)(pe.Z,{style:{fontSize:"16px",color:"#cc4e57"}}),(0,a.jsx)("span",{style:{color:"#cc4e57"},children:Math.abs(f-S)})]}):S>f?(0,a.jsxs)("div",{className:"cell-icon",children:[(0,a.jsx)("span",{className:"text",children:x}),(0,a.jsx)(Ne.Z,{style:{fontSize:"16px",color:"#61d069"}}),(0,a.jsx)("span",{style:{color:"#61d069"},children:Math.abs(f-S)})]}):(0,a.jsxs)("div",{className:"cell-icon",children:[(0,a.jsx)("span",{className:"text",children:x}),(0,a.jsx)(ye.Z,{style:{fontSize:"16px",color:"#406ddf"}})]})},n=[{title:(0,h.F)("e4e88ebd3372d7e").d("\u5F00\u53D1\u8D23\u4EFB\u4EBA"),dataIndex:"name",filterSearch:!0,key:"name",width:"50%"},{title:(0,h.F)("d662d294481e48d").d("\u672A\u5904\u7406Bug\u6570"),dataIndex:"bugNum",key:"bugNum",width:"50%",render:r,sorter:function(x,p){return p.bugNum-x.bugNum}}],s=(0,y.useRef)(null),o=xe(s,t),v=o.handleTableMouseEnter,i=o.handleTableMouseLeave,m=t.map(function(c,x){return{name:c.name,bugNum:c.bugNum,key:x,code:c.code}});return(0,a.jsx)("div",{className:"container",onMouseEnter:v,onMouseLeave:i,children:(0,a.jsx)(De.Z,{columns:n,dataSource:m,pagination:!1,scroll:{y:900},ref:s})})},Ea=Sa,Ia=function(){var l,t=(0,W.useModel)("global"),e=t.allData,r=t.setAllData,n=t.formatedData,s=t.setFormatedData,o=t.period,v=t.setPeriod,i=function(u){var f=localStorage.getItem(G);f&&localStorage.removeItem(G),localStorage.setItem(G,JSON.stringify(u))},m=function(){var p=ae()(K()().mark(function u(f){var S,N,L,O,V;return K()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:C.prev=0,S=[],N=0;case 3:if(!(N<f.length)){C.next=12;break}return L=f[N],C.next=7,ia(L);case 7:O=C.sent,S.push(O);case 9:N++,C.next=3;break;case 12:if(!(!S||S.length<1)){C.next=14;break}return C.abrupt("return");case 14:V=qe(S,e),s(V[0]),r(V),i(V),C.next=23;break;case 20:C.prev=20,C.t0=C.catch(0),le.ZP.error("\u89E3\u6790\u5931\u6557");case 23:case"end":return C.stop()}},u,null,[[0,20]])}));return function(f){return p.apply(this,arguments)}}();(0,y.useEffect)(function(){var p=e.find(function(u){var f;return((f=u.date)===null||f===void 0?void 0:f.dateValue)===o});p&&s(p)},[o]),(0,y.useEffect)(function(){var p=localStorage.getItem(G);if(p){var u=JSON.parse(p);u.length>0&&(r(u),s(u[0]))}},[]),(0,y.useEffect)(function(){v(n.date.dateValue)},[n]);var c=function(){for(var u=n.date.dateValue,f=u,S=0;S<e.length;S++){var N=e[S],L=T()(N.date.dateValue),O=T()(u);L.isBefore(O)&&O.diff(L,"day")<=7&&(f=L.format("YYYY-MM-DD"))}return e.find(function(V){return V.date.dateValue===f})},x=c();return(0,a.jsxs)("div",{className:"bug-view",children:[(0,a.jsx)(He,{}),(0,a.jsx)("div",{className:"uploadbtn",children:(0,a.jsx)(Qe,{onFile:m})}),(0,a.jsxs)("div",{className:"main",children:[(0,a.jsxs)("div",{className:"left",children:[(0,a.jsx)("div",{className:"left_1",children:(0,a.jsx)(ga,{data:n.summaryData,date:(l=n.date)===null||l===void 0?void 0:l.text})}),(0,a.jsx)("div",{className:"left_2",children:(0,a.jsx)(te,{title:(0,h.F)("75533dda114e92c").d("\u6A21\u5757bug"),className:"bg2",children:(0,a.jsx)(ha,{data:n.moduleData})})}),(0,a.jsx)("div",{className:"left_3",children:(0,a.jsx)(te,{title:(0,h.F)("21275d7a13fb595").d("bug\u8D8B\u52BF"),className:"bg2",children:(0,a.jsx)(ja,{data:n.moduleData})})})]}),(0,a.jsxs)("div",{className:"right-title",children:[(0,h.F)("a0dfc63177f7f42").d("\u8D23\u4EFB\u4EBAbug"),(x==null?void 0:x.date)&&(0,h.F)("dc10b817105c1fb",{arg0:x.date.dateValue}).d("\uFF08\u76F8\u8F83\u4E8E".concat(x.date.dateValue,"\uFF09"))]}),(0,a.jsxs)("div",{className:"right",children:[(0,a.jsx)("div",{className:"developer",children:(0,a.jsx)(Ea,{data:n.developerData,previousData:x})}),(0,a.jsx)("div",{className:"tester",children:(0,a.jsx)(pa,{data:n.testData,previousData:x})})]})]})]})},Ca=Ia},29034:function(_){"use strict";_.exports="data:image/jpeg;base64,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"},42480:function(){},20067:function(){}}]);
