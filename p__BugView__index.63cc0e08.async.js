(self.webpackChunk=self.webpackChunk||[]).push([[518],{41003:function(le,de,v){"use strict";v.r(de),v.d(de,{default:function(){return ka}});var Ce=v(15009),X=v.n(Ce),je=v(99289),se=v.n(je),f=v(958),pe=[(0,f.F)("a23654bdc84f2b9").d("\u661F\u671F\u65E5"),(0,f.F)("2e4d0b3dd708930").d("\u661F\u671F\u4E00"),(0,f.F)("abf3e3e4c49e13c").d("\u661F\u671F\u4E8C"),(0,f.F)("791f5c5d3817522").d("\u661F\u671F\u4E09"),(0,f.F)("5fcf5174527fcf0").d("\u661F\u671F\u56DB"),(0,f.F)("41128c67d7aee99").d("\u661F\u671F\u4E94"),(0,f.F)("ae81f0697d5a8d8").d("\u661F\u671F\u516D")],za=function(l){return l.UNCLOSE_ALL="\u672A\u5173\u95EDBug\u603B\u6570",l.TO_BE_VERIFIED="\u5F85\u9A8C\u8BC1",l.PENDING="\u5F85\u5904\u7406",l}({}),P="LOCAK_KEY",W="VERSION",ie="1.0",oe=function(l){return l[l.DETE_ROW=0]="DETE_ROW",l[l.DETE_COL=0]="DETE_COL",l[l.SUMMARY_LABAL_COL=0]="SUMMARY_LABAL_COL",l[l.SUMMARY_NUM_COL=1]="SUMMARY_NUM_COL",l[l.PM_NAME_COL=15]="PM_NAME_COL",l[l.PM_FIRST_MODULE_COL=16]="PM_FIRST_MODULE_COL",l[l.PM_SECOND_MODULE_COL=17]="PM_SECOND_MODULE_COL",l}({}),O=function(l){return l[l.NO_COL=0]="NO_COL",l[l.MODULE_COL=2]="MODULE_COL",l[l.BUG_TITLE_COL=7]="BUG_TITLE_COL",l[l.BUG_STATUS_COL=15]="BUG_STATUS_COL",l[l.BUG_CREATOR_COL=20]="BUG_CREATOR_COL",l[l.BUG_CREATE_TIME_COL=21]="BUG_CREATE_TIME_COL",l[l.BUG_RESOLVE_TIME_COL=28]="BUG_RESOLVE_TIME_COL",l[l.BUG_ASSIGNOR_COL=23]="BUG_ASSIGNOR_COL",l}({}),be={DATE_REG:/(\d{1,2})[月月](\d{1,2})[日日]/},ue=function(l){return l[l.MOUDLE=0]="MOUDLE",l[l.PEOPLE=1]="PEOPLE",l[l.BUG=2]="BUG",l}({}),Fe=v(81354),ce=v.n(Fe),Me=v(27484),R=v.n(Me),Z=function(e){var a=ce().MD5(e);return a.toString(ce().enc.Hex)},Ja=function(e){var a=dayjs(e);return a.startOf("week").add(1,"day")},ve=function(e){var a=R()("1899-12-30"),t=Math.floor(e),r=e-t,d=a.add(t,"day"),i=86400,s=r*i,o=R()("1970-01-01 00:00:00").add(s,"second"),c=d.set("hour",o.hour()).set("minute",o.minute()).set("second",o.second());return c},K=function(e){return e.format("YYYY-MM-DD")},Se=function(e){var a=[];return Object.keys(e).forEach(function(t){var r=e[t];a.push(r)}),a},De=function(e,a){var t=e.filter(function(i){return i!==null}),r=t.reduce(function(i,s){return i[s.date.dateValue]=s,i},{}),d=a.filter(function(i){return!r[i.date.dateValue]});return t=Object.keys(r).map(function(i){return r[i]}).concat(d),t.sort(function(i,s){return R()(s.date.dateValue).valueOf()-R()(i.date.dateValue).valueOf()})},E=v(17030),Le=v(22144),Ne=v(93967),$=v.n(Ne),j=v(67294),Ae=v(5574),Y=v.n(Ae),n=v(85893),Ve=function(){var e=(0,j.useState)(["0","0",":","0","0",":","0","0"]),a=Y()(e,2),t=a[0],r=a[1],d=function(){var s=R()().format("HH:mm:ss");r(s.split(""))};return(0,j.useEffect)(function(){var i=setInterval(function(){d()},1e3);return function(){clearInterval(i)}},[]),(0,n.jsx)("div",{className:"time-clock",children:t.map(function(i,s){return(0,n.jsx)("div",{className:$()("time-clock-item",{"digit-bg":s!==2&&s!==5}),children:i},s)})})},Te=Ve,_=R()(),Ie=pe[_.day()],Re=_.format("YYYY-MM-DD"),Ye=function(){var e=(0,E.useModel)("store"),a=e.allData,t=e.period,r=e.setPeriod,d=a.map(function(o){return o.date.dateValue}),i=(0,j.useRef)(null);(0,j.useEffect)(function(){d.length>0&&r(d[0])},[a]);var s=function(c){r(K(c))};return(0,n.jsxs)("div",{className:$()("header","T2-header"),children:[(0,n.jsx)("div",{className:"header-left",children:(0,n.jsxs)("div",{className:"date-picker",ref:i,children:[(0,n.jsx)("div",{className:"label",children:(0,f.F)("f7b7b27fb396d88").d("\u9009\u62E9\u65E5\u671F\uFF1A")}),(0,n.jsx)("div",{className:"range-picker",children:(0,n.jsx)(Le.Z,{onChange:s,value:R()(t),disabledDate:function(c){var m=d.indexOf(c.format("YYYY-MM-DD"))===-1;return c.isAfter(_)||m},allowClear:!1})})]})}),(0,n.jsx)("div",{className:"header-title",children:(0,n.jsx)("div",{className:"text",children:(0,f.F)("4c675049373c182").d("Bug\u6570\u636E\u603B\u89C8")})}),(0,n.jsxs)("div",{className:"header-right",children:[(0,n.jsx)(Te,{}),(0,n.jsxs)("div",{className:"date",children:[(0,n.jsx)("div",{children:Ie}),(0,n.jsx)("div",{children:Re})]})]})]})},Be=Ye,Oe=function(e){var a=e.title,t=e.bodyStyle,r=e.headerStyle,d=e.style,i=e.children,s=e.className;return(0,n.jsxs)("div",{className:$()("pannel-card","T2",s),style:d,children:[(0,n.jsx)("div",{className:"pannel-card-title",style:r,children:a}),(0,n.jsx)("div",{className:"pannel-card-body",style:t,children:i})]})},fe=Oe,Ue=v(19632),H=v.n(Ue),ke=v(88484),Ze=v(10932),Ge=function(e){var a=(0,j.useRef)(null),t=e.onFile,r=function(){var s;(s=a.current)===null||s===void 0||s.click()},d=function(s){if(s.target.files&&!(s.target.files.length<1)){var o=H()(s.target.files);t&&t(o)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ze.ZP,{style:{background:"#0070ef",color:"#FFF",border:"none"},icon:(0,n.jsx)(ke.Z,{}),onClick:r,children:(0,f.F)("d6aff18816f5581").d("\u70B9\u51FB\u4E0A\u4F20")}),(0,n.jsx)("input",{type:"file",accept:".xlsx",ref:a,style:{display:"none"},onChange:d,multiple:!0})]})},He=Ge,ee=v(84105),ze=function(e){for(var a=[],t=1;t<e.length;t++){var r=e[t],d=parseInt(r[O.NO_COL]);if(!d)break;var i=r[O.MODULE_COL]||(0,f.F)("5de9fe27aae39b2").d("/\u672A\u77E5\u6A21\u584A/"),s=r[O.BUG_TITLE_COL],o=r[O.BUG_STATUS_COL]==="\u6FC0\u6D3B"?0:1,c=r[O.BUG_CREATOR_COL],m=ve(parseFloat(r[O.BUG_CREATE_TIME_COL]+"")),y=ve(parseFloat(r[O.BUG_RESOLVE_TIME_COL]+"")),g=r[O.BUG_ASSIGNOR_COL],u={NO:d,bugModule:i,title:s,status:o,creator:c,createTime:K(m),resolveTime:K(y),assignor:g};a.push(u)}return a},Je=function(e){var a={unClose:0,needVerify:0,needHandle:0};a.unClose=e.length;for(var t=0;t<e.length;t++){var r=e[t].status;r===0?a.needHandle++:a.needVerify++}return a},we=v(64599),Pe=v.n(we),Ee=function(e){var a=Xe(e),t=qe(e),r=We(e),d=Qe(a,t,r);return d},Qe=function(e,a,t){var r=Object.keys(a).map(function(i){var s=a[i],o=s.origin.code,c=t[o],m={name:s.name,code:s.code,unClose:0,needVerify:0,needHandle:0,child:t[o],parent:s.parent},y=me(c);return m.needHandle=y.needHandle,m.needVerify=y.needVerify,m.unClose=y.unClose,m}),d=Object.keys(e).map(function(i){var s=e[i],o=s.code,c=r.filter(function(g){var u;return((u=g.parent)===null||u===void 0?void 0:u.code)===o}),m={name:s.name,code:s.code,unClose:0,needVerify:0,needHandle:0,child:c},y=me(c);return m.needHandle=y.needHandle,m.needVerify=y.needVerify,m.unClose=y.unClose,m});return d},Xe=function(e){for(var a=new Set,t=/\/([^/()]+)(?:\/|\()/,r={},d=0;d<e.length;d++){var i=e[d].bugModule,s=t.exec(i),o=s?s[1]:(0,f.F)("c0387ff20981d7a").d("\u672A\u77E5\u6A21\u584A");a.add(o)}var c=Pe()(a),m;try{for(c.s();!(m=c.n()).done;){var y=m.value,g=Z(y);r[g]={code:g,name:y}}}catch(u){c.e(u)}finally{c.f()}return r},qe=function(e){for(var a={},t=0;t<e.length;t++){var r=e[t].bugModule,d=/\/([^/()]+)(?:\/|\()/,i=Z(r),s=d.exec(r),o=s?s[1]:(0,f.F)("c0387ff20981d7a").d("\u672A\u77E5\u6A21\u584A"),c=Ke(r),m=$e(o,c);m.origin={name:r,code:i},a[m.code]=m}return a},We=function(e){for(var a={},t=0;t<e.length;t++){var r=e[t].bugModule,d=Z(r);a[d]===void 0&&(a[d]={});var i=a[d],s=e[t].assignor,o=Z(e[t].assignor),c=e[t].status;if(!i[o]){var m={name:s,code:o,needHandle:0,needVerify:0,unClose:0,parent:{code:d,name:r}};i[o]=m}c===0?i[o].needHandle++:i[o].needVerify++,i[o].unClose++}var y={};return Object.keys(a).forEach(function(g){var u=a[g],x=Se(u);y[g]=x}),y},Ke=function(e){var a=/\/([^/()]+)(?:\/|\()/,t=e.lastIndexOf("/D"),r=e.lastIndexOf("/P"),d="";if(t!==-1)d=e.substring(t+1);else if(r!==-1)d=e.substring(r+1);else{var i=a.exec(e);d=i?i[1]:(0,f.F)("c0387ff20981d7a").d("\u672A\u77E5\u6A21\u584A")}return d},$e=function(e,a){var t=Z(a),r=Z(e);if(r!==t)return{code:t,name:a,parent:{code:r,name:e}};var d=Z("".concat(a,"-sub"));return{code:d,name:a,parent:{code:r,name:e}}},me=function(e){var a=e.reduce(function(t,r){return t.unClose+=r.unClose,t.needVerify+=r.needVerify,t.needHandle+=r.needHandle,t},{unClose:0,needVerify:0,needHandle:0});return a},_e=function(e){var a=be.DATE_REG.exec(e[oe.DETE_ROW][oe.DETE_COL]);if(!a)throw new Error("date error");return{text:(0,f.F)("e7162f71e91ac72",{arg0:a[0]}).d("\u622A\u81F3".concat(a[0],"bug\u60C5\u51B5")),dateValue:R()("2024-".concat(a[1],"-").concat(a[2])).format("YYYY-MM-DD")}},ea=function(e,a){for(var t={today_increase:0,today_resolve:0,today_unhandle:0},r=0;r<e.length;r++){var d=e[r];d.createTime===a&&t.today_increase++,d.resolveTime===a&&d.status===1&&t.today_resolve++,d.createTime===a&&d.status===0&&t.today_unhandle++}return t},aa=function(e){if(!e)throw new Error("complieFile Error");return new Promise(function(a){var t=new FileReader;t.readAsArrayBuffer(e),t.onload=function(r){var d,i=(d=r.target)===null||d===void 0?void 0:d.result,s=ee.ij(i,{type:"binary"});a({workbook:s,sheetNames:s.SheetNames,sheets:s.Sheets})}})},ta=function(e){for(var a=e.workbook,t=[],r=0;r<a.SheetNames.length;r++){var d=a.SheetNames[r],i=a.Sheets[d];t.push(i)}var s=ee.P6.sheet_to_json(t[ue.PEOPLE],{header:1}),o=ee.P6.sheet_to_json(t[ue.BUG],{header:1}),c=_e(s),m=ze(o),y=Je(m),g=Ee(m),u=ea(m,c.dateValue);return{date:c,summaryData:y,moduleData:g,dayBugTrendData:u}},ra=function(){var l=se()(X()().mark(function e(a){var t;return X()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(a){d.next=2;break}throw new Error("file error");case 2:return d.next=4,aa(a);case 4:return t=d.sent,d.abrupt("return",ta(t));case 6:case"end":return d.stop()}},e)}));return function(a){return l.apply(this,arguments)}}(),he=v(46837),na=v(85673),la=function(e){var a=e.data,t=function(s){e.onClick(s)},r=a.map(function(i,s){return{title:(0,n.jsx)("a",{onClick:function(){return t(s+1)},children:i})}}),d=r.length>0?H()(r):[{title:(0,f.F)("75533dda114e92c").d("\u6A21\u5757bug")}];return(0,n.jsx)(na.Z,{items:d})},da=la,sa=v(10010),ia=v(39398),oa=v(66600),ua=v(66829),ca=function(e,a,t){return e<a?(0,n.jsxs)("div",{className:"cell-icon",children:[(0,n.jsx)("span",{className:"text",children:t}),(0,n.jsx)(sa.Z,{style:{fontSize:"16px",color:"#cc4e57"}}),(0,n.jsx)("span",{style:{color:"#cc4e57"},children:Math.abs(a-e)})]}):e>a?(0,n.jsxs)("div",{className:"cell-icon",children:[(0,n.jsx)("span",{className:"text",children:t}),(0,n.jsx)(ia.Z,{style:{fontSize:"16px",color:"#61d069"}}),(0,n.jsx)("span",{style:{color:"#61d069"},children:Math.abs(a-e)})]}):(0,n.jsxs)("div",{className:"cell-icon",children:[(0,n.jsx)("span",{className:"text",children:t}),(0,n.jsx)(oa.Z,{style:{fontSize:"16px",color:"#406ddf"}})]})},wa=function(e,a){var t=a.module,r=_jsxs("div",{className:"name-popper-content",children:[_jsxs("div",{className:"name",children:[getMessage("789501f6e5fea1f").d("\u59D3\u540D\uFF1A"),e]}),_jsxs("div",{className:"name",children:[getMessage("f830a2c56d482f6").d("\u4E00\u7D1A\u6A21\u584A\uFF1A"),(t==null?void 0:t.top)||getMessage("ea1ca1f384267a4").d("\u66AB\u7121\u4FE1\u606F")]}),_jsxs("div",{className:"name",children:[getMessage("700dfe7c99bf3a3").d("\u4E8C\u7D1A\u6A21\u584A\uFF1A"),(t==null?void 0:t.sub)||getMessage("ea1ca1f384267a4").d("\u66AB\u7121\u4FE1\u606F")]})]});return _jsx("div",{className:"name-popper",children:_jsx(Popover,{content:r,arrow:!1,placement:"bottomRight",trigger:"hover",destroyTooltipOnHide:!0,children:e})})},va=function(e){var a=e.columns,t=e.tableRenderData,r=e.tableRef;return(0,n.jsx)("div",{className:"table-container",children:(0,n.jsx)(ua.Z,{columns:a,dataSource:t,pagination:!1,scroll:{y:900},ref:r})})},fa=va,ae=function(e,a){return function(t,r){var d=a[a.length-1].find(function(o){return o.code===r.code}),i=r[e],s=i;return d&&(s=d[e]),ca(s,i,t)}},ge=function(e){e.sort(function(a,t){return t.unClose-a.unClose})},ma=function(e){var a=e.data,t=e.previous,r=(0,j.useRef)(),d=(0,j.useState)(1),i=Y()(d,2),s=i[0],o=i[1],c=(0,j.useState)([]),m=Y()(c,2),y=m[0],g=m[1],u=(0,j.useState)([]),x=Y()(u,2),b=x[0],D=x[1],V=(0,j.useState)([]),T=Y()(V,2),N=T[0],z=T[1];(0,j.useEffect)(function(){var I=a.map(function(C,A){return{key:"".concat(A),name:C.name,needHandle:C.needHandle,needVerify:C.needVerify,unClose:C.unClose,child:C.child,code:C.code}});if(t){var S=t.moduleData.map(function(C,A){return{key:"".concat(A),name:C.name,needHandle:C.needHandle,needVerify:C.needVerify,unClose:C.unClose,child:C.child,code:C.code}});D([S])}ge(I),g([I])},[a]);var M=[{title:(0,f.F)("60b31ddc49ac2f1").d("\u6A21\u5757\u540D\u79F0"),key:"name",dataIndex:"name",filterSearch:!0,render:function(S,C){return(0,n.jsxs)("div",{className:"name-cell-col",onClick:function(){return re(C)},children:[" ",S]})}},{title:(0,f.F)("99dbe10ddbd2e03").d("\u5F85\u5904\u7406"),dataIndex:"needHandle",key:"needHandle",render:ae("needHandle",b),sorter:function(S,C){return C.needHandle-S.needHandle}},{title:(0,f.F)("59ee4c65abccfb8").d("\u5F85\u9A8C\u8BC1"),dataIndex:"needVerify",key:"needVerify",render:ae("needVerify",b),sorter:function(S,C){return C.needVerify-S.needVerify}},{title:(0,f.F)("14dbf3ee4dbe603").d("\u672A\u5173\u95EDBug"),dataIndex:"unClose",key:"unClose",render:ae("unClose",b),sorter:function(S,C){return C.unClose-S.unClose}}],re=function(S){var C,A;if(!(s>=3)){var F;F=(C=S.child)===null||C===void 0?void 0:C.map(function(h,B){return{key:"".concat(B),code:h.code,name:h.name,needHandle:h.needHandle,needVerify:h.needVerify,unClose:h.unClose,child:h.child,parent:h.parent}});var p=(A=b[b.length-1].find(function(h){return h.code===S.code}))===null||A===void 0?void 0:A.child,L=p==null?void 0:p.map(function(h,B){return{key:"".concat(B),code:h.code,name:h.name,needHandle:h.needHandle,needVerify:h.needVerify,unClose:h.unClose,child:h.child,parent:h.parent}});F&&(ge(F),g([].concat(H()(y),[F])),o(function(h){return h+1}),z([].concat(H()(N),[S.name]))),L&&D([].concat(H()(b),[p]))}},ne=function(S){for(var C=[],A=0;A<S-1;A++)C.push(N[A]);z(C),o(S)};return(0,j.useEffect)(function(){var I=y.slice(0,s),S=b.slice(0,s);g(I),D(S)},[s]),(0,n.jsxs)("div",{className:"module-rank",children:[(0,n.jsxs)("div",{className:"right-title",children:[(0,n.jsx)("div",{className:"bread",children:(0,n.jsx)(da,{data:N,onClick:ne})}),(0,n.jsx)("div",{className:"compare-time",children:(t==null?void 0:t.date)&&(0,f.F)("48d8322560fb9a0",{arg0:t.date.dateValue}).d("\uFF08\u76F8\u8F83\u4E8E".concat(t.date.dateValue,"\uFF09"))})]}),(0,n.jsx)("div",{className:"module-rank-table",children:(0,n.jsx)(fa,{columns:M,tableRenderData:y[y.length-1],tableRef:r})})]})},ha=ma,ga=function(e,a){var t=(0,j.useState)(!1),r=Y()(t,2),d=r[0],i=r[1],s=function(){i(!0)},o=function(){i(!1)};return(0,j.useEffect)(function(){var c,m,y=!0,g=!d,u=e==null?void 0:e.current,x=u==null||(c=u.querySelector(".ant-list"))===null||c===void 0?void 0:c.offsetHeight,b=u==null?void 0:u.offsetHeight,D=u==null||(m=u.querySelector(".ant-list"))===null||m===void 0?void 0:m.scrollTop;console.log(x,b,D);var V=!0,T=function N(){u&&V&&(g=!0,y?(D+=.3,u.scrollTo({top:D}),D>=x-b&&(y=!1)):(D=0,u.scrollTo({top:0}),y=!0),requestAnimationFrame(function(){g=!1,N()}))};return d||T(),function(){V=!1}},[d,a]),{handleTableMouseEnter:s,handleTableMouseLeave:o,isSelt:d}},te=v(69618),ya=function(){var e=(0,E.useModel)("store"),a=e.listData,t=e.setListData,r=(0,j.useRef)(null),d=function(){var u={title:(0,f.F)("7799fdb1da37695").d("\u6807\u9898"),discription:(0,f.F)("32110e57d22a75e").d("\u5185\u5BB9")};t([u].concat(H()(a))),m()},i=(0,j.useState)(!1),s=Y()(i,2),o=s[0],c=s[1],m=function(){c(!0)},y=function(){c(!1)};return ga(r,a),(0,n.jsx)("div",{className:"risk-list",ref:r,children:(0,n.jsx)(te.Z,{itemLayout:"horizontal",dataSource:a,renderItem:function(u,x){return(0,n.jsx)(te.Z.Item,{children:(0,n.jsx)(te.Z.Item.Meta,{title:u.title,description:u.discription})},x)}})})},xa=ya,Ca=function(){var e=(0,E.useModel)("store"),a=e.formatedData,t=e.period,r=a.summaryData,d=[{title:(0,f.F)("34d65f83eacbcf8").d("\u4ECA\u65E5\u65B0\u589EBug\u6570"),value:a.dayBugTrendData.today_increase,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("79ae13a3e7abb13").d("\u4ECA\u65E5\u5DF2\u89E3\u51B3-\u5F85\u9A8C\u8BC1"),value:a.dayBugTrendData.today_resolve,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("b699f0a67a375c1").d("\u4ECA\u65E5\u5F85\u5904\u7406Bug\u6570"),value:a.dayBugTrendData.today_unhandle,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")}],i=[{title:(0,f.F)("dfc5410d8cbd8d0").d("\u672A\u5173\u95EDbug\u603B\u6570"),value:r.unClose,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("8850e1465ca9b5c").d("\u5F85\u9A8C\u8BC1bug\u603B\u6570"),value:r.needVerify,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("9d09937111f289f").d("\u5F85\u5904\u7406bug\u603B\u6570"),value:r.needHandle,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")}];return(0,n.jsxs)("div",{className:"summary-info",children:[(0,n.jsxs)("div",{className:"summary-info-left",children:[(0,n.jsx)("div",{className:"pic",children:(0,n.jsx)("img",{src:v(29034),alt:""})}),(0,n.jsx)("div",{className:"date",children:a.date.dateValue})]}),(0,n.jsxs)("div",{className:"summary-info-right",children:[(0,n.jsxs)("div",{className:"week-summary",children:[(0,n.jsx)("div",{className:"category",children:(0,f.F)("ffb98cd32bfec6f").d("\u4ECA\u65E5\u6570\u636E")}),(0,n.jsx)("div",{className:"content",children:d.map(function(s,o){return(0,n.jsxs)("div",{className:"info-item",children:[(0,n.jsx)("div",{className:"title",children:s.title}),(0,n.jsxs)("div",{className:"value",children:[s.value,(0,n.jsx)("span",{className:"unit",children:s.unit})]})]},o)})})]}),(0,n.jsxs)("div",{className:"all-summary",children:[(0,n.jsx)("div",{className:"category",children:(0,f.F)("55ce10cc39fef07").d("\u603B\u89C8")}),(0,n.jsx)("div",{className:"content",children:i.map(function(s,o){return(0,n.jsxs)("div",{className:"info-item",children:[(0,n.jsx)("div",{className:"title",children:s.title}),(0,n.jsxs)("div",{className:"value",children:[s.value,(0,n.jsx)("span",{className:"unit",children:s.unit})]})]},o)})})]})]})]})},ja=Ca,pa=v(92783),ba=v(87155),Fa=v(97369),Ma=v(64665),Sa=v(75171),Da=v(41151),La=v(78537),Na=v(55793),Aa=v(35183),Va=v(78264),Ta=v(6228),Ia=v(96486),Pa=function(e){var a="",t=e.length,r=5,d=Math.ceil(t/r);if(t>r)for(var i=0;i<d;i++){var s="",o=i*r,c=o+r;i===d-1?s=e.substring(o,t):s=e.substring(o,c)+`
`,a+=s}else a=e;return a},Ra={grid:{left:5,right:20,top:75,bottom:20,containLabel:!0},xAxis:[{type:"category",data:[R()().format("YYYY-MM-DD")],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#353842"}},axisLabel:{interval:0,fontSize:16,color:"#FFF",padding:10}}],yAxis:{type:"value",name:(0,f.F)("37b6545a355f5c5").d("\u4E2A"),nameTextStyle:{color:"#FFF",padding:[0,35,5,0]},splitLine:{lineStyle:{type:"dashed",color:"#465167"}},axisLabel:{fontSize:16,color:"#FFF"}},series:[{name:"",data:[],type:"line",emphasis:{focus:"series"},smooth:!0,itemStyle:{color:"#01F1E3"},zlevel:11},{data:[],name:(0,f.F)("a027216de51002d").d("\u7D2F\u8A08\u8655\u7406bug\u6578"),type:"line",emphasis:{focus:"series"},smooth:!0,itemStyle:{borderRadius:[6,6,0,0],color:"#ffc000"},zlevel:11}],tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}}},ye=Ra;Aa.D([Sa.N,Da.N,La.N,Na.N,Fa.N,Ma.N,Ta.N]);var xe=[(0,f.F)("fb06170cad99453").d("\u5F85\u5F00\u53D1\u5904\u7406bug"),(0,f.F)("2a67fdef5b0ba53").d("\u5F85\u9A8C\u8BC1bug"),(0,f.F)("a19e58166ec2ed4").d("\u672A\u5173\u95EDbug")].map(function(l,e){return{value:"".concat(e),label:l}}),Ya=["#01F1E3","#7D40FF","#406ddf"],Ba=function(e){var a=(0,E.useModel)("store"),t=a.allData,r=a.period,d=(0,j.useRef)(null),i=(0,j.useRef)(null),s=(0,j.useState)([]),o=Y()(s,2),c=o[0],m=o[1],y=(0,j.useState)(0),g=Y()(y,2),u=g[0],x=g[1],b=(0,j.useState)("0"),D=Y()(b,2),V=D[0],T=D[1],N=function(){var p;(p=d.current)===null||p===void 0||p.getEchartsInstance().dispatchAction({type:"showTip",dataIndex:u,seriesIndex:0})},z=function(){i.current&&clearInterval(i.current),N()},M=function(p){z(),N();var L=setInterval(function(){x(function(h){return(h+1)%p})},2e3);i.current=L};(0,j.useEffect)(function(){M(c.length)},[c]),(0,j.useEffect)(function(){if(u%7===0){var F;(F=d.current)===null||F===void 0||F.getEchartsInstance().dispatchAction({type:"dataZoom",startValue:u,endValue:u+6})}N()},[u]);var re=function(p){T(p),I(p)},ne=function(){for(var p=[],L=0;L<c.length;L++){var h=c[L],B=h.summaryData.needHandle,G=h.summaryData.needVerify,U=h.summaryData.unClose,J={date:h.date.dateValue,numData:[B,G,U]};p.push(J)}for(var Q={},w=[0,0,0],k=t.length-1;k>=0;k--){var q=t[k],Za=q.dayBugTrendData.today_increase,Ga=q.dayBugTrendData.today_unhandle,Ha=q.dayBugTrendData.today_resolve;w[0]+=Ga,w[1]+=Ha,w[2]+=Za,Q[q.date.dateValue]=[].concat(w)}return{seriesData:p,dayBugMap:Q}},I=function(p){var L,h=ne(),B=h.seriesData,G=h.dayBugMap,U=(0,Ia.cloneDeep)(ye),J=parseInt(p),Q=[],w=c.map(function(k){return k.date.dateValue});U.xAxis[0].data=w,U.series[0].data=B.map(function(k){return Q.push(G[k.date][J]),k.numData[J]}),U.series[0].itemStyle.color=Ya[J],U.series[0].name=xe[J].label,U.series[1].data=Q,(L=d.current)===null||L===void 0||L.getEchartsInstance().setOption(U)};(0,j.useEffect)(function(){var F=t.findIndex(function(B){var G;return((G=B.date)===null||G===void 0?void 0:G.dateValue)===r}),p=F,L=Math.min(F+7,t.length),h=t.slice(p,L).reverse();m(h)},[t,r]);var S=function(p,L){var h;(h=d.current)===null||h===void 0||h.getEchartsInstance().on(p,L)},C=function(p,L){var h;(h=d.current)===null||h===void 0||h.getEchartsInstance().off(p,L)},A=function(p){x(p.batch[0].dataIndex)};return(0,j.useEffect)(function(){return x(0),T("0"),I("0"),S("highlight",A),function(){C("highlight",A)}},[c]),(0,n.jsxs)("div",{className:"charts",onMouseEnter:z,onMouseLeave:function(){return M(c.length)},children:[(0,n.jsx)("div",{className:"button-group",children:(0,n.jsx)(pa.Z,{options:xe,onChange:re,value:V})}),(0,n.jsx)(ba.Z,{style:{height:"100%"},echarts:Va,ref:d,option:ye})]})},Oa=Ba,Ua=function(){var e=(0,E.useModel)("store"),a=e.allData,t=e.setAllData,r=e.formatedData,d=e.setFormatedData,i=e.period,s=e.setPeriod,o=function(){var g=se()(X()().mark(function u(x){var b,D,V,T,N;return X()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:M.prev=0,b=[],D=0;case 3:if(!(D<x.length)){M.next=12;break}return V=x[D],M.next=7,ra(V);case 7:T=M.sent,b.push(T);case 9:D++,M.next=3;break;case 12:if(!(!b||b.length<1)){M.next=14;break}return M.abrupt("return");case 14:N=De(b,a),d(N[0]),t(N),c(N),he.ZP.success((0,f.F)("da1cf0b7ac072f4").d("\u89E3\u6790\u6210\u529F")),M.next=25;break;case 21:M.prev=21,M.t0=M.catch(0),console.log(M.t0),he.ZP.error((0,f.F)("8feb1a279c6a6f7").d("\u89E3\u6790\u5931\u6557"));case 25:case"end":return M.stop()}},u,null,[[0,21]])}));return function(x){return g.apply(this,arguments)}}(),c=function(u){var x=localStorage.getItem(P);x&&localStorage.removeItem(P),localStorage.setItem(P,JSON.stringify(u))};(0,j.useEffect)(function(){var g=localStorage.getItem(W);(!g||g!==ie)&&(localStorage.removeItem(W),localStorage.removeItem(P),localStorage.setItem(W,ie));var u=localStorage.getItem(P);if(u){var x=JSON.parse(u);x.length>0&&(t(x),d(x[0]))}},[]),(0,j.useEffect)(function(){var g=a.find(function(u){var x;return((x=u.date)===null||x===void 0?void 0:x.dateValue)===i});g&&d(g)},[i]);var m=function(){for(var u=r.date.dateValue,x=u,b=0;b<a.length;b++){var D=a[b],V=R()(D.date.dateValue),T=R()(u);V.isBefore(T)&&T.diff(V,"day")<=7&&(x=V.format("YYYY-MM-DD"))}return a.find(function(N){return N.date.dateValue===x})},y=m();return(0,n.jsxs)("div",{className:"bug-view",children:[(0,n.jsx)(Be,{}),(0,n.jsx)("div",{className:"uploadbtn",children:(0,n.jsx)(He,{onFile:o})}),(0,n.jsxs)("div",{className:"main",children:[(0,n.jsxs)("div",{className:"left",children:[(0,n.jsx)("div",{className:"left_1",children:(0,n.jsx)(ja,{})}),(0,n.jsx)("div",{className:"left_2",children:(0,n.jsx)(fe,{title:(0,f.F)("fa111ac518a0117").d("\u98CE\u9669\u63D0\u9192"),className:"bg2",children:(0,n.jsx)(xa,{})})}),(0,n.jsx)("div",{className:"left_3",children:(0,n.jsx)(fe,{title:(0,f.F)("21275d7a13fb595").d("bug\u8D8B\u52BF"),className:"bg2",children:(0,n.jsx)(Oa,{data:r.moduleData})})})]}),(0,n.jsx)("div",{className:"right",children:(0,n.jsx)("div",{className:"module",children:(0,n.jsx)(ha,{data:r.moduleData,previous:y})})})]})]})},ka=Ua},29034:function(le){"use strict";le.exports="data:image/jpeg;base64,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"},42480:function(){},20067:function(){}}]);
