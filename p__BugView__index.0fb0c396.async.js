(self.webpackChunk=self.webpackChunk||[]).push([[518],{34770:function(Q,W,u){"use strict";u.r(W),u.d(W,{default:function(){return Ia}});var Se=u(15009),z=u.n(Se),Ie=u(99289),q=u.n(Ie),Ee=u(5574),T=u.n(Ee),f=u(958),Ce=[(0,f.F)("a23654bdc84f2b9").d("\u661F\u671F\u65E5"),(0,f.F)("2e4d0b3dd708930").d("\u661F\u671F\u4E00"),(0,f.F)("abf3e3e4c49e13c").d("\u661F\u671F\u4E8C"),(0,f.F)("791f5c5d3817522").d("\u661F\u671F\u4E09"),(0,f.F)("5fcf5174527fcf0").d("\u661F\u671F\u56DB"),(0,f.F)("41128c67d7aee99").d("\u661F\u671F\u4E94"),(0,f.F)("ae81f0697d5a8d8").d("\u661F\u671F\u516D")],X=function(N){return N.UNCLOSE_ALL="\u672A\u5173\u95EDBug\u603B\u6570",N.TO_BE_VERIFIED="\u5F85\u9A8C\u8BC1",N.PENDING="\u5F85\u5904\u7406",N}({}),H="LOCAK_KEY",Me=u(35363),Oe=u(93377),Ae=u(60399),K=u(17030),Le=u(27391),Ye=u(93967),J=u.n(Ye),Ve=u(27484),L=u.n(Ve),y=u(67294),e=u(85893),Te=function(){var l=(0,y.useState)(["0","0",":","0","0",":","0","0"]),a=T()(l,2),t=a[0],r=a[1],n=function(){var o=L()().format("HH:mm:ss");r(o.split(""))};return(0,y.useEffect)(function(){var s=setInterval(function(){n()},1e3);return function(){clearInterval(s)}},[]),(0,e.jsx)("div",{className:"time-clock",children:t.map(function(s,o){return(0,e.jsx)("div",{className:J()("time-clock-item",{"digit-bg":o!==2&&o!==5}),children:s},o)})})},Re=Te,w=L()(),Be=Ce[w.day()],Pe=w.format("YYYY-MM-DD"),Ze=function(){var l=(0,K.useModel)("global"),a=l.allData,t=l.period,r=l.setPeriod,n=a.map(function(x){return x.date.dateValue}),s=(0,y.useRef)(null),o=(0,y.useRef)(null),c=(0,y.useState)(!1),d=T()(c,2),m=d[0],i=d[1];(0,Ae.t$)([s,o],function(){i(!1)});var h=function(v){v&&r(L()(v).format("YYYY-MM-DD"))};return(0,y.useEffect)(function(){n.length>0&&r(n[0])},[a]),(0,y.useEffect)(function(){i(!1)},[t]),(0,e.jsxs)("div",{className:J()("header","T2-header"),children:[(0,e.jsxs)("div",{className:"header-left",children:[(0,e.jsxs)("div",{className:"date-picker",onClick:function(){return i(function(v){return!v})},ref:s,children:[(0,e.jsx)("div",{className:"label",children:(0,f.F)("f7b7b27fb396d88").d("\u9009\u62E9\u65E5\u671F\uFF1A")}),(0,e.jsx)(Me.ZP,{addonAfter:(0,e.jsx)(Oe.Z,{type:"date"}),readOnly:!0,value:t})]}),(0,e.jsx)("div",{className:J()("calendar-container",{"calendar-container-show":m}),ref:o,children:(0,e.jsx)(Le.f,{selectionMode:"single",className:"calendar-control",value:L()(t).toDate(),shouldDisableDate:function(v){var g=L()(v),F=n.indexOf(g.format("YYYY-MM-DD"))===-1;return g.isAfter(w)||F},onChange:h})})]}),(0,e.jsx)("div",{className:"header-title",children:(0,e.jsx)("div",{className:"text",children:(0,f.F)("4c675049373c182").d("Bug\u6570\u636E\u603B\u89C8")})}),(0,e.jsxs)("div",{className:"header-right",children:[(0,e.jsx)(Re,{}),(0,e.jsxs)("div",{className:"date",children:[(0,e.jsx)("div",{children:Be}),(0,e.jsx)("div",{children:Pe})]})]})]})},ke=Ze,ze=function(l){var a=l.title,t=l.bodyStyle,r=l.headerStyle,n=l.style,s=l.children,o=l.className;return(0,e.jsxs)("div",{className:J()("pannel-card","T2",o),style:n,children:[(0,e.jsx)("div",{className:"pannel-card-title",style:r,children:a}),(0,e.jsx)("div",{className:"pannel-card-body",style:t,children:s})]})},$=ze,He=u(19632),Je=u.n(He),Xe=u(88484),Ke=u(10932),we=function(l){var a=(0,y.useRef)(null),t=l.onFile,r=function(){var o;(o=a.current)===null||o===void 0||o.click()},n=function(o){if(o.target.files&&!(o.target.files.length<1)){var c=Je()(o.target.files);t&&t(c)}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ke.ZP,{style:{background:"#0070ef",color:"#FFF",border:"none"},icon:(0,e.jsx)(Xe.Z,{}),onClick:r,children:(0,f.F)("d6aff18816f5581").d("\u70B9\u51FB\u4E0A\u4F20")}),(0,e.jsx)("input",{type:"file",accept:".xlsx",ref:a,style:{display:"none"},onChange:n,multiple:!0})]})},Ge=we,Ue=u(81354),_=u.n(Ue),B=function(l){var a=_().MD5(l);return a.toString(_().enc.Hex)},Qe=function(l,a){var t=l.filter(function(s){return s!==null}),r=t.reduce(function(s,o){return s[o.date.dateValue]=o,s},{}),n=a.filter(function(s){return!r[s.date.dateValue]});return t=Object.keys(r).map(function(s){return r[s]}).concat(n),t.sort(function(s,o){return L()(o.date.dateValue).valueOf()-L()(s.date.dateValue).valueOf()})},We=u(97857),qe=u.n(We),$e=u(64599),ee=u.n($e),P=u(84105),_e=function(l){return l?new Promise(function(a){var t=new FileReader;t.readAsArrayBuffer(l),t.onload=function(r){var n,s=(n=r.target)===null||n===void 0?void 0:n.result,o=P.ij(s,{type:"binary"});a({workbook:o,sheetNames:o.SheetNames,sheets:o.Sheets})}}):Promise.resolve(null)},ea=function(l){for(var a=P.P6.sheet_to_json(l,{header:1}),t={unClose:0,unVerify:0,pending:0},r=0;r<a.length;r++)for(var n=0;n<a[0].length;n++){var s=a[r][n];if(s===X.UNCLOSE_ALL)t.unClose=parseInt(a[r][n+1]);else if(s===X.TO_BE_VERIFIED)t.unVerify=parseInt(a[r][n+1]);else if(s===X.PENDING)t.pending=parseInt(a[r][n+1]);else continue}return t},aa=function(l){for(var a=/\/([^/()]+)(?:\/|\()/,t=/.*?(?=\(#\d+\))/,r=P.P6.sheet_to_json(l,{header:1}),n=new Map,s=new Set,o=0;o<r.length;o++){var c=r[o][0].split(" "),d=a.exec(c[0]);d&&s.add(d[1])}var m=ee()(s),i;try{for(m.s();!(i=m.n()).done;){var h=i.value,x=B(h);n.set(x,h)}}catch(A){m.e(A)}finally{m.f()}for(var v=[],g=0;g<r.length;g++){var F=r[g][0].split(" ").filter(function(A){return A!==""}),p=a.exec(F[0]),M=t.exec(F[1]);if(p){var I="";M?I=M[0]:I=p[1];var V=B(I===p[1]?"".concat(I,"-sub"):I),j=B(p[1]),D=parseInt(r[g][1]||"0"),b=parseInt(r[g][2]||"0"),S=parseInt(r[g][3]||"0"),E={code:V,parent:j,total:D,unresolve:b,resolved:S,moduleName:I};v.push(E)}}var O=[],C=ee()(n),Y;try{var R=function(){for(var U=Y.value,Ne=T()(U,2),ye=Ne[0],Ea=Ne[1],Z=v.filter(function(Ca){return Ca.parent===ye}),De=0,Fe=0,je=0,k=0;k<Z.length;k++)De+=Z[k].total,Fe+=Z[k].resolved,je+=Z[k].unresolve;O.push({topModuleCode:ye,topModuleName:Ea,subModules:Z,total:De,resolved:Fe,unresolve:je})};for(C.s();!(Y=C.n()).done;)R()}catch(A){C.e(A)}finally{C.f()}return O.sort(function(A,U){return U.unresolve-A.unresolve})},ta=function(l){for(var a=P.P6.sheet_to_json(l,{header:1}),t=[],r=3;r<a.length;r++){var n=a[r][6],s=parseInt(a[r][7]||"0"),o=B(n);if(n===(0,f.F)("b0efcb0ad259c0d").d("\u603B\u8BA1")||n==="\u603B\u8BA1")break;t.push({name:n,bugNum:s,code:o})}return t.filter(function(c){return c.name&&c.name.trim()}).sort(function(c,d){return d.bugNum-c.bugNum})},ra=function(l){for(var a=P.P6.sheet_to_json(l,{header:1}),t=[],r=3;r<a.length;r++){var n=a[r][3],s=parseInt(a[r][4]||"0"),o=B(n);if(n===(0,f.F)("b0efcb0ad259c0d").d("\u603B\u8BA1")||n==="\u603B\u8BA1")break;t.push({name:n,bugNum:s,code:o,needPending:0,needVerify:0})}for(var c={},d=3;d<a.length;d++){var m=a[d][9],i=a[d][12],h=parseInt(a[d][10]||"0"),x=parseInt(a[d][13]||"0");if(m===(0,f.F)("b0efcb0ad259c0d").d("\u603B\u8BA1")||m==="\u603B\u8BA1")break;var v=B(m),g=B(i);v&&(c[v]===void 0?c[v]={name:m,needPending:h,needVerify:0}:c[v].needPending=h),g&&(c[g]===void 0?c[g]={name:i,needPending:0,needVerify:x}:c[g].needVerify=x)}return t=t.map(function(F){var p=qe()({},F);return c[p.code]&&(p.needPending=c[p.code].needPending,p.needVerify=c[p.code].needVerify),p}),t.sort(function(F,p){return p.bugNum-F.bugNum})},na=function(l){var a=P.P6.sheet_to_json(l,{header:1}),t=/(\d{1,2})[月月](\d{1,2})[日日]/,r=t.exec(a[0][0]);return r?{text:(0,f.F)("e7162f71e91ac72",{arg0:r[0]}).d("\u622A\u81F3".concat(r[0],"bug\u60C5\u51B5")),dateValue:L()("2024-".concat(r[1],"-").concat(r[2])).format("YYYY-MM-DD")}:null},la=function(l){for(var a=l.workbook,t=[],r=0;r<a.SheetNames.length-1;r++){var n=a.SheetNames[r],s=a.Sheets[n];t.push(s)}var o=aa(t[0]),c=ea(t[1]),d=ta(t[1]),m=ra(t[1]),i=na(t[1]);return{summaryData:c,moduleData:o,developerData:d,testData:m,date:i}},sa=function(){var N=q()(z()().mark(function l(a){var t,r,n,s,o,c,d;return z()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a){i.next=2;break}return i.abrupt("return",null);case 2:return i.next=4,_e(a);case 4:return t=i.sent,r={unClose:0,unVerify:0,pending:0},n=[],s=[],o=[],c={text:(0,f.F)("25e1e7308255f3a",{arg0:L()().format("M\u6708D\u65E5")}).d("\u622A\u81F3".concat(L()().format("M\u6708D\u65E5"),"bug\u60C5\u51B5")),dateValue:L()().format("YYYY-MM-DD")},t&&(d=la(t),r=d.summaryData,n=d.moduleData,s=d.developerData,o=d.testData,c=d.date||c),i.abrupt("return",{summaryData:r,moduleData:n,developerData:s,testData:o,date:c});case 12:case"end":return i.stop()}},l)}));return function(a){return N.apply(this,arguments)}}(),ae=u(87155),te=u(97369),re=u(64665),ne=u(75171),le=u(41151),se=u(78537),oe=u(55793),oa=u(84636),ie=u(35183),de=u(78264),ue=u(6228),ce=u(96486),ia=function(l){var a="",t=l.length,r=7,n=Math.ceil(t/r);if(t>r)for(var s=0;s<n;s++){var o="",c=s*r,d=c+r;s===n-1?o=l.substring(c,t):o=l.substring(c,d)+`
`,a+=o}else a=l;return a},da={grid:{left:5,right:20,top:75,bottom:20,containLabel:!0},dataZoom:[{type:"inside",startValue:0,endValue:6,zoomLock:!0}],legend:{selectedMode:!1,data:[(0,f.F)("bbac15a1e3f2800").d("\u5DF2\u89E3\u51B3bug"),(0,f.F)("87739ef5044e1fd").d("\u672A\u89E3\u51B3bug")],top:"1%",right:"3%",itemWidth:8,itemHeight:8,itemGap:30,textStyle:{fontSize:"14px",color:"#8694B4",letterSpacing:0,fontWeight:400}},xAxis:[{type:"category",data:[(0,f.F)("66248ddd7183d01").d("\u901A\u7528\u5E94\u7528"),(0,f.F)("6feea1ef86a7856").d("\u5373\u65F6\u7ECF\u8425"),(0,f.F)("ce6f6425d796416").d("\u535A\u5F69\u76D1\u5BDF"),(0,f.F)("e707ef9e3b2899d").d("\u70B9\u7B97\u7BA1\u7406")],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#353842"}},axisLabel:{interval:0,fontSize:16,color:"#FFF",padding:10,formatter:ia}}],yAxis:{type:"value",name:(0,f.F)("37b6545a355f5c5").d("\u4E2A"),nameTextStyle:{color:"#FFF",padding:[0,35,5,0]},splitLine:{lineStyle:{type:"dashed",color:"#465167"}},axisLabel:{fontSize:16,color:"#FFF"}},series:[{name:(0,f.F)("87739ef5044e1fd").d("\u672A\u89E3\u51B3bug"),data:[0,0,0,0],type:"bar",barWidth:6,emphasis:{focus:"series"},itemStyle:{borderRadius:[6,6,6,6],color:"#01F1E3"},zlevel:11},{data:[0,0,0,0],name:(0,f.F)("bbac15a1e3f2800").d("\u5DF2\u89E3\u51B3bug"),type:"bar",barWidth:6,emphasis:{focus:"series"},itemStyle:{borderRadius:[6,6,0,0],color:"#7D40FF"},zlevel:11}],tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}}},ve=da,ua=u(61025);ie.D([ne.N,le.N,se.N,oe.N,oa.N,te.N,re.N,ue.N]);var ca=function(l){var a=l.data,t=(0,y.useRef)(null),r=(0,y.useState)(!1),n=T()(r,2),s=n[0],o=n[1],c=(0,y.useState)(0),d=T()(c,2),m=d[0],i=d[1],h=(0,y.useRef)(null),x=(0,y.useState)(a),v=T()(x,2),g=v[0],F=v[1],p=function(){h.current&&clearInterval(h.current)},M=function(b){p();var S=setInterval(function(){i(function(E){return(E+1)%b})},2e3);h.current=S};(0,y.useEffect)(function(){var D;if(m%7===0){var b;(b=t.current)===null||b===void 0||b.getEchartsInstance().dispatchAction({type:"dataZoom",startValue:m,endValue:m+6})}(D=t.current)===null||D===void 0||D.getEchartsInstance().dispatchAction({type:"showTip",dataIndex:m,seriesIndex:0})},[m]);var I=function(b,S){var E;if(!(!b||b.length<1)){var O=(0,ce.cloneDeep)(ve),C=[];S?C=b==null?void 0:b.map(function(A){return A.moduleName}):C=b==null?void 0:b.map(function(A){return A.topModuleName});var Y=b.map(function(A){return A.resolved}),R=b.map(function(A){return A.unresolve});O.xAxis[0].data=C,O.series[0].data=R,O.series[1].data=Y,(E=t.current)===null||E===void 0||E.getEchartsInstance().setOption(O)}},V=function(b){if(!s&&!(!g||g.length<1)){var S=t.current.getEchartsInstance(),E=b.offsetX,O=b.offsetY,C=[E,O];if(S.containPixel("grid",C)){var Y=S.convertFromPixel({seriesIndex:0},C)[0],R=g[Y].subModules;if(!R)return;R.length>7&&M(R.length),o(!0),I(R,!0)}}};(0,y.useEffect)(function(){F(a),o(!1),M(a.length)},[a]),(0,y.useEffect)(function(){var D;return s||I(g,s),(D=t.current)===null||D===void 0||D.getEchartsInstance().getZr().on("click",V),function(){var b;(b=t.current)===null||b===void 0||b.getEchartsInstance().getZr().off("click",V)}},[g,s]),(0,y.useEffect)(function(){i(0),p()},[s]);var j=function(){o(!1),p()};return(0,e.jsxs)("div",{className:"charts",onMouseEnter:p,onMouseLeave:function(){return M(g.length)},children:[s&&(0,e.jsx)("div",{className:"back",onClick:j,children:(0,e.jsx)(ua.Z,{style:{color:"#2f6ee7",fontSize:"25px",marginTop:"10px"}})}),(0,e.jsx)(ae.Z,{style:{height:"100%"},echarts:de,ref:t,option:ve})]})},va=ca,fa=function(l){var a=l.data,t=[{title:(0,f.F)("a22c9d966fd2479").d("\u672A\u5173\u95EDBug\u603B\u6570"),value:a.unClose,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("59ee4c65abccfb8").d("\u5F85\u9A8C\u8BC1"),value:a.unVerify,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")},{title:(0,f.F)("99dbe10ddbd2e03").d("\u5F85\u5904\u7406"),value:a.pending,unit:(0,f.F)("37b6545a355f5c5").d("\u4E2A")}];return(0,e.jsxs)("div",{className:"summary-info",children:[(0,e.jsxs)("div",{className:"summary-info-left",children:[(0,e.jsx)("div",{className:"pic",children:(0,e.jsx)("img",{src:u(29034),alt:""})}),(0,e.jsx)("div",{className:"date",children:l.date})]}),(0,e.jsx)("div",{className:"summary-info-right",children:t.map(function(r,n){return(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("div",{className:"title",children:r.title}),(0,e.jsxs)("div",{className:"value",children:[r.value,(0,e.jsx)("span",{className:"unit",children:r.unit})]}),(0,e.jsx)("div",{className:"trend"})]},n)})})]})},ma=fa,fe=function(l,a){var t=(0,y.useState)(!1),r=T()(t,2),n=r[0],s=r[1],o=function(){s(!0)},c=function(){s(!1)};return(0,y.useEffect)(function(){var d,m,i,h=!0,x=!n,v=l==null?void 0:l.current,g=v==null||(d=v.nativeElement)===null||d===void 0||(d=d.querySelector(".ant-table-tbody"))===null||d===void 0?void 0:d.offsetHeight,F=v==null||(m=v.nativeElement)===null||m===void 0||(m=m.querySelector(".ant-table-body"))===null||m===void 0?void 0:m.offsetHeight,p=v==null||(i=v.nativeElement)===null||i===void 0||(i=i.querySelector(".ant-table-body"))===null||i===void 0?void 0:i.scrollTop,M=!0,I=function V(){v&&M&&(x=!0,h?(p+=.3,v.scrollTo({top:p}),p>=g-F&&(h=!1)):(p=0,v.scrollTo({top:0}),h=!0),requestAnimationFrame(function(){x=!1,V()}))};return n||I(),function(){M=!1}},[n,a]),{handleTableMouseEnter:o,handleTableMouseLeave:c,isSelt:n}},me=u(10010),he=u(39398),ge=u(66600),xe=u(51880),ha=function(l,a,t){return l<a?(0,e.jsxs)("div",{className:"cell-icon",children:[(0,e.jsx)("span",{className:"text",children:t}),(0,e.jsx)(me.Z,{style:{fontSize:"16px",color:"#cc4e57"}}),(0,e.jsx)("span",{style:{color:"#cc4e57"},children:Math.abs(a-l)})]}):l>a?(0,e.jsxs)("div",{className:"cell-icon",children:[(0,e.jsx)("span",{className:"text",children:t}),(0,e.jsx)(he.Z,{style:{fontSize:"16px",color:"#61d069"}}),(0,e.jsx)("span",{style:{color:"#61d069"},children:Math.abs(a-l)})]}):(0,e.jsxs)("div",{className:"cell-icon",children:[(0,e.jsx)("span",{className:"text",children:t}),(0,e.jsx)(ge.Z,{style:{fontSize:"16px",color:"#406ddf"}})]})},G=function(l,a){return function(t,r){var n=a.testData.find(function(c){return c.code===r.code}),s=r[l],o=s;return n&&(o=n[l]),ha(o,s,t)}},ga=function(l){var a=l.data,t=l.previousData,r=(0,y.useRef)(),n=fe(r,l.data),s=n.handleTableMouseEnter,o=n.handleTableMouseLeave,c=a.map(function(m,i){return{key:"".concat(i),name:m.name,needPending:m.needPending,needVerify:m.needVerify,bugNum:m.bugNum,code:m.code}}),d=[{title:(0,f.F)("7729237976a502f").d("\u6D4B\u8BD5\u8D23\u4EFB\u4EBA"),key:"name",dataIndex:"name",filterSearch:!0},{title:(0,f.F)("376c55f425a6e64").d("\u5F85\u5F00\u53D1\u5904\u7406"),dataIndex:"needPending",key:"needPending",render:G("needPending",t),sorter:function(i,h){return h.needPending-i.needPending}},{title:(0,f.F)("59ee4c65abccfb8").d("\u5F85\u9A8C\u8BC1"),dataIndex:"needVerify",key:"needVerify",render:G("needVerify",t),sorter:function(i,h){return h.needVerify-i.needVerify}},{title:(0,f.F)("14dbf3ee4dbe603").d("\u672A\u5173\u95EDBug"),dataIndex:"bugNum",key:"bugNum",render:G("bugNum",t),sorter:function(i,h){return h.bugNum-i.bugNum}}];return(0,e.jsx)("div",{className:"container",onMouseEnter:s,onMouseLeave:o,children:(0,e.jsx)(xe.Z,{columns:d,dataSource:c,pagination:!1,scroll:{y:900},ref:r})})},xa=ga,ba=u(92783),Ma=function(l){var a="",t=l.length,r=5,n=Math.ceil(t/r);if(t>r)for(var s=0;s<n;s++){var o="",c=s*r,d=c+r;s===n-1?o=l.substring(c,t):o=l.substring(c,d)+`
`,a+=o}else a=l;return a},pa={grid:{left:5,right:20,top:75,bottom:20,containLabel:!0},xAxis:[{type:"category",data:[L()().format("YYYY-MM-DD"),L()().format("YYYY-MM-DD")],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#353842"}},axisLabel:{interval:0,fontSize:16,color:"#FFF",padding:10}}],yAxis:{type:"value",name:(0,f.F)("37b6545a355f5c5").d("\u4E2A"),nameTextStyle:{color:"#FFF",padding:[0,35,5,0]},splitLine:{lineStyle:{type:"dashed",color:"#465167"}},axisLabel:{fontSize:16,color:"#FFF"}},series:[{name:"",data:[0,0,0,0],type:"line",emphasis:{focus:"series"},smooth:!0,itemStyle:{color:"#01F1E3"},zlevel:11}],tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}}},be=pa;ie.D([ne.N,le.N,se.N,oe.N,te.N,re.N,ue.N]);var pe=[(0,f.F)("fb06170cad99453").d("\u5F85\u5F00\u53D1\u5904\u7406bug"),(0,f.F)("2a67fdef5b0ba53").d("\u5F85\u9A8C\u8BC1bug"),(0,f.F)("a19e58166ec2ed4").d("\u672A\u5173\u95EDbug")].map(function(N,l){return{value:"".concat(l),label:N}}),Na=["#01F1E3","#7D40FF","#FFA63F"],ya=function(l){var a=(0,K.useModel)("global"),t=a.allData,r=a.period,n=(0,y.useRef)(null),s=(0,y.useRef)(null),o=(0,y.useState)([]),c=T()(o,2),d=c[0],m=c[1],i=(0,y.useState)(0),h=T()(i,2),x=h[0],v=h[1],g=function(){s.current&&clearInterval(s.current)},F=function(D){g();var b=setInterval(function(){v(function(S){return(S+1)%D})},2e3);s.current=b};(0,y.useEffect)(function(){F(d.length)},[d]),(0,y.useEffect)(function(){var j;if(x%7===0){var D;(D=n.current)===null||D===void 0||D.getEchartsInstance().dispatchAction({type:"dataZoom",startValue:x,endValue:x+6})}(j=n.current)===null||j===void 0||j.getEchartsInstance().dispatchAction({type:"showTip",dataIndex:x,seriesIndex:0})},[x]);var p=function(D){V(D)},M=function(){for(var D=[],b=0;b<d.length;b++){for(var S=t[b],E=0,O=0,C=0,Y=0;Y<S.testData.length;Y++)E+=S.testData[Y].needPending,O+=S.testData[Y].needVerify,C+=S.testData[Y].bugNum;D.push([E,E,C])}return D},I=M(),V=function(D){var b,S=(0,ce.cloneDeep)(be),E=parseInt(D),O=d.map(function(C){return C.date.dateValue});S.xAxis[0].data=O,S.series[0].data=I.map(function(C){return C[E]}),S.series[0].itemStyle.color=Na[E],S.series[0].name=pe[E].label,(b=n.current)===null||b===void 0||b.getEchartsInstance().setOption(S)};return(0,y.useEffect)(function(){var j=t.findIndex(function(E){var O;return((O=E.date)===null||O===void 0?void 0:O.dateValue)===r}),D=j,b=Math.min(j+7,t.length),S=t.slice(D,b).reverse();m(S)},[t,r]),(0,y.useEffect)(function(){V("0")},[d]),(0,e.jsxs)("div",{className:"charts",onMouseEnter:g,onMouseLeave:function(){return F(d.length)},children:[(0,e.jsx)("div",{className:"button-group",children:(0,e.jsx)(ba.Z,{options:pe,onChange:p})}),(0,e.jsx)(ae.Z,{style:{height:"100%"},echarts:de,ref:n,option:be})]})},Da=ya,Fa=function(l){var a=l.data,t=l.previousData,r=function(h,x){var v=t.developerData.find(function(p){return p.code===x.code}),g=x.bugNum,F=g;return v&&(F=v.bugNum),F<g?(0,e.jsxs)("div",{className:"cell-icon",children:[(0,e.jsx)("span",{className:"text",children:h}),(0,e.jsx)(me.Z,{style:{fontSize:"16px",color:"#cc4e57"}}),(0,e.jsx)("span",{style:{color:"#cc4e57"},children:Math.abs(g-F)})]}):F>g?(0,e.jsxs)("div",{className:"cell-icon",children:[(0,e.jsx)("span",{className:"text",children:h}),(0,e.jsx)(he.Z,{style:{fontSize:"16px",color:"#61d069"}}),(0,e.jsx)("span",{style:{color:"#61d069"},children:Math.abs(g-F)})]}):(0,e.jsxs)("div",{className:"cell-icon",children:[(0,e.jsx)("span",{className:"text",children:h}),(0,e.jsx)(ge.Z,{style:{fontSize:"16px",color:"#406ddf"}})]})},n=[{title:(0,f.F)("e4e88ebd3372d7e").d("\u5F00\u53D1\u8D23\u4EFB\u4EBA"),dataIndex:"name",filterSearch:!0,key:"name",width:"50%"},{title:(0,f.F)("d662d294481e48d").d("\u672A\u5904\u7406Bug\u6570"),dataIndex:"bugNum",key:"bugNum",width:"50%",render:r,sorter:function(h,x){return x.bugNum-h.bugNum}}],s=(0,y.useRef)(null),o=fe(s,a),c=o.handleTableMouseEnter,d=o.handleTableMouseLeave,m=a.map(function(i,h){return{name:i.name,bugNum:i.bugNum,key:h,code:i.code}});return(0,e.jsx)("div",{className:"container",onMouseEnter:c,onMouseLeave:d,children:(0,e.jsx)(xe.Z,{columns:n,dataSource:m,pagination:!1,scroll:{y:900},ref:s})})},ja=Fa,Sa=function(){var l,a=(0,K.useModel)("global"),t=a.allData,r=a.setAllData,n=a.formatedData,s=a.setFormatedData,o=a.period,c=function(x){var v=localStorage.getItem(H);v&&localStorage.removeItem(H),localStorage.setItem(H,JSON.stringify(x))},d=function(){var h=q()(z()().mark(function x(v){var g,F,p,M,I;return z()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:g=[],F=0;case 2:if(!(F<v.length)){j.next=11;break}return p=v[F],j.next=6,sa(p);case 6:M=j.sent,g.push(M);case 8:F++,j.next=2;break;case 11:if(!(!g||g.length<1)){j.next=13;break}return j.abrupt("return");case 13:I=Qe(g,t),s(I[0]),r(I),c(I);case 17:case"end":return j.stop()}},x)}));return function(v){return h.apply(this,arguments)}}();(0,y.useEffect)(function(){var h=t.find(function(x){var v;return((v=x.date)===null||v===void 0?void 0:v.dateValue)===o});h&&s(h)},[o]),(0,y.useEffect)(function(){var h=localStorage.getItem(H);if(h){var x=JSON.parse(h);x.length>0&&(r(x),s(x[0]))}},[]);var m=function(){for(var x=n.date.dateValue,v=x,g=0;g<t.length;g++){var F=t[g],p=L()(F.date.dateValue),M=L()(x);p.isBefore(M)&&M.diff(p,"day")<=7&&(v=p.format("YYYY-MM-DD"))}return t.find(function(I){return I.date.dateValue===v})},i=m();return(0,e.jsxs)("div",{className:"bug-view",children:[(0,e.jsx)(ke,{}),(0,e.jsx)("div",{className:"uploadbtn",children:(0,e.jsx)(Ge,{onFile:d})}),(0,e.jsxs)("div",{className:"main",children:[(0,e.jsxs)("div",{className:"left",children:[(0,e.jsx)("div",{className:"left_1",children:(0,e.jsx)(ma,{data:n.summaryData,date:(l=n.date)===null||l===void 0?void 0:l.text})}),(0,e.jsx)("div",{className:"left_2",children:(0,e.jsx)($,{title:(0,f.F)("75533dda114e92c").d("\u6A21\u5757bug"),className:"bg2",children:(0,e.jsx)(va,{data:n.moduleData})})}),(0,e.jsx)("div",{className:"left_3",children:(0,e.jsx)($,{title:(0,f.F)("21275d7a13fb595").d("bug\u8D8B\u52BF"),className:"bg2",children:(0,e.jsx)(Da,{data:n.moduleData})})})]}),(0,e.jsxs)("div",{className:"right-title",children:[(0,f.F)("a0dfc63177f7f42").d("\u8D23\u4EFB\u4EBAbug"),(i==null?void 0:i.date)&&(0,f.F)("dc10b817105c1fb",{arg0:i.date.dateValue}).d("\uFF08\u76F8\u8F83\u4E8E".concat(i.date.dateValue,"\uFF09"))]}),(0,e.jsxs)("div",{className:"right",children:[(0,e.jsx)("div",{className:"developer",children:(0,e.jsx)(ja,{data:n.developerData,previousData:i})}),(0,e.jsx)("div",{className:"tester",children:(0,e.jsx)(xa,{data:n.testData,previousData:i})})]})]})]})},Ia=Sa},29034:function(Q){"use strict";Q.exports="data:image/jpeg;base64,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"},42480:function(){},20067:function(){}}]);
